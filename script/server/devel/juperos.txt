//===== Freya Script ======================================
//= Juperos Quest Script
//===== By ================================================
//= Tsuyuki
//===== Version ===========================================
//= 1.0
//===== Compatible With ===================================
//= Freya
//===== Description =======================================
//= Fully official Aegis-converted Juperos system.
//===== Comments ==========================================
//= 0.5 Added first version [Tsuyuki]
//= 0.6 Replaced 'monster' with 'areamonster' on certain occasions [Tsuyuki]
//= 0.7 Fixed Gate Switches not respawning [Galaxy/Tsuyuki]
//= 1.0 Fully redone with a fresh Aegis conversion [Tsuyuki]
//= Note: Conversion still in progress
//=========================================================


//=========================================================
//= Juperos Levels #1 and #2
//=========================================================

juperos_01.gat,100,91,0	script	jupe_goto#1	111,2,2,{

OnCommandOn:
	enablenpc "jupe_goto#1";
	end;

OnCommandOff:
	disablenpc "jupe_goto#1";
	end;

OnTouch:
	attachnpctimer;
	initnpctimer;
	mes "^777777[" + strcharinfo(0) + "]^000000";
	mes "This light...";
	mes "It feels like...";
	mes "Its warmth is...";
	mes "Wrapping all over me...";
	next;
	menu "Ah, it's so nice...",L_Juperos01,"No! This is wrong!",L_Juperos02;

	L_Juperos01:
		mes "^777777[" + strcharinfo(0) + "]^000000";
		mes "Ahhhh...";
		mes "It feels like";
		mes "I'm floating...";
		specialeffect 348;
		next;
		stopnpctimer;
		warp "juperos_02.gat",128,278;
		close;

	L_Juperos02:
		mes "^777777[" + strcharinfo(0) + "]^000000";
		mes "N-No! This is";
		mes "wrong! Something";
		mes "weird's happening!";
		mes "I gotta get away!";
		next;
		warp "juperos_01.gat",96,91;
		stopnpctimer;
		close;

OnTimer10000:
	warp "juperos_02.gat",128,278;
	donpcevent "jupe_goto#2::OnCommandOn";
	disablenpc "jupe_goto#1";
	end;
}

juperos_01.gat,100,91,0	script	jupe_goto#2	111,2,2,{

OnInit:
	disablenpc "jupe_goto#2";
	end;

OnCommandOn:
	enablenpc "jupe_goto#2";
	attachnpctimer;
	initnpctimer;
	end;

OnCommandOff:
	disablenpc "jupe_goto#2";
	end;

OnTouch:
	warp "juperos_02.gat",128,278;
	end;

OnTimer2000:
	donpcevent "jupe_goto#1::OnCommandOn";
	disablenpc "jupe_goto#2";
	end;
}

juperos_02.gat,97,70,0	script	3F Gate Switch#jupe	111,{

OnInit:
	attachnpctimer;
	initnpctimer;
	end;

OnCommandReset:
// To-Do:
//	resetmymob;
	end;

OnCommandOff:
	disablenpc "3F Gate Switch#jupe";
	end;

OnCommandOn:
	enablenpc "3F Gate Switch#jupe";
	attachnpctimer;
	initnpctimer;
	end;

OnTimer5000:
	monster "juperos_02.gat",24,275,"1st Gate Switch",1674,1;
	monster "juperos_02.gat",240,29,"2nd Gate Switch",1674,1;
	monster "juperos_02.gat",282,183,"3rd Gate Switch",1674,1;
	end;

OnMyMobDead:
	if ((npcv "3F Gate Switch#jupe" [VAR_MYMOBCOUNT] > 1) && (npcv "3F Gate Switch#jupe" [VAR_MYMOBCOUNT] < 3)) goto L_Monemus01;
	if ((npcv "3F Gate Switch#jupe" [VAR_MYMOBCOUNT] > 0) && (npcv "3F Gate Switch#jupe" [VAR_MYMOBCOUNT] < 2)) goto L_Monemus02;
	if (npcv "3F Gate Switch#jupe" [VAR_MYMOBCOUNT] < 1) goto L_Monemus03;

	L_Monemus01:
		mapannounce "juperos_02.gat","Who are you to come here?",1;
		end;

	L_Monemus02:
		mapannounce "juperos_02.gat","Have you come seeking Juperos?! It no longer exists...",1;
		end;

	L_Monemus03:
		mapannounce "juperos_02.gat","Have you come to see me? Fine! Find me first!",1;
		specialeffect2 563;
		soundeffect "earth_quake.wav",0;
		donpcevent "3F Gate Switch#jupe::OnCommandOff";
		donpcevent "3F Gate Switch2nd#jupe::OnCommandOn";
		end;
}

juperos_02.gat,97,70,0	script	3F Gate Switch2nd#jupe	111,{

OnCommandOff:
	disablenpc "3F Gate Switch2nd#jupe";
	end;

OnCommandOn:
	enablenpc "3F Gate Switch2nd#jupe";
	attachnpctimer;
	initnpctimer;
	end;

OnTimer5000:
	mapannounce "juperos_02.gat","Vroom! Vroom!",1;
	end;

OnTimer7000:
	mapannounce "juperos_02.gat","Attention, visitors.",1;
	end;

OnTimer9000:
	mapannounce "juperos_02.gat","You are allowed to enter the next zone for a short period of time. Please use the portal in the center of the map.",1;
	end;

OnTimer9001:
	donpcevent "Restricted Area Entrance#jupe::OnCommandOn";
	end;
}

juperos_02.gat,130,149,0	script	Restricted Area Entrance#jupe	111,2,2,{

OnInit:
	disablenpc "Restricted Area Entrance#jupe";
	end;

OnCommandOff:
	disablenpc "Restricted Area Entrance#jupe";
	end;

OnCommandOn:
	enablenpc "Restricted Area Entrance#jupe";
	specialeffect 561;
	attachnpctimer;
	initnpctimer;
	end;

OnTimer23000:
	specialeffect 561;
	end;

OnTimer46000:
	specialeffect 561;
	end;

OnTimer69000:
	specialeffect 561;
	end;

OnTimer92000:
	specialeffect 561;
	end;

OnTimer115000:
	specialeffect 561;
	end;

OnTimer161000:
	specialeffect 561;
	end;

OnTimer184000:
	specialeffect 561;
	end;

OnTimer207000:
	specialeffect 561;
	end;

OnTimer230000:
	specialeffect 561;
	end;

OnTimer253000:
	specialeffect 561;
	end;

OnTimer276000:
	specialeffect 561;
	end;

OnTimer299000:
	specialeffect 561;
	end;

OnTimer322000:
	specialeffect 561;
	end;

OnTimer345000:
	specialeffect 561;
	end;

OnTimer368000:
	specialeffect 561;
	end;

OnTimer391000:
	specialeffect 561;
	end;

OnTimer414000:
	specialeffect 561;
	end;

OnTimer460000:
	specialeffect 561;
	end;

OnTimer483000:
	specialeffect 561;
	end;

OnTimer506000:
	specialeffect 561;
	end;

OnTimer529000:
	specialeffect 561;
	end;

OnTimer552000:
	specialeffect 561;
	end;

OnTimer556000:
	mapannounce "juperos_02.gat","Attention, visitors. The gate to the next zone will close shortly.",1;
	end;

OnTimer561000:
	mapannounce "juperos_02.gat","1 minute remaining until Gate Closure.",1;
	end;

OnTimer598000:
	specialeffect 561;
	end;

OnTimer600000:
	mapannounce "juperos_02.gat","The gate is being closed...",1;
	end;

OnTimer603000:
	mapannounce "juperos_02.gat","Switches will reactivate shortly.",1;
	end;

OnTimer621000:
	disablenpc "Restricted Area Entrance#jupe";
	end;

OnTimer1200000:
	donpcevent "3F Gate Switch#jupe::OnCommandOn";
	end;

OnTouch:
	warp "jupe_gate.gat",50,167;
	end;
}


//=========================================================
//= Juperos Elevator
//=========================================================

jupe_ele_r.gat,51,98,0	script	Switch#ufe	111,{

	set gameing2,$050420_jupe_ele_r;
	if (gameing2 == 1) goto L_Ele01;
	goto L_Ele02;

//	L_Ele01:
//		mes "^3355FFSepertinya";
//		mes "tuas ini sudah";
//		mes "ditarik oleh";
//		mes "orang lain.^000000";
//		close;

	L_Ele01:
		mes "^3355FFThis lever";
		mes "was pulled by";
		mes "another person.^000000";
		close;

	L_Ele02:
		cutin "5.bmp",2;
		mes "^3355FFIt's some sort of";
		mes "lever that's located";
		mes "next to four empty slots.^000000";
		next;
		menu "Pull the lever.",L_Ele03,"Leave it alone.",L_Ele04;

		L_Ele03:
			mes "^3355FF*Snap Snap*^000000";
			next;
			mes "^3355FFYou pull the lever,";
			mes "but nothing happened.";
			mes "You probably need to";
			mes "insert the correct objects";
			mes "into the slots in order";
			mes "for the lever to operate.^000000";
			next;

			if (countitem(7356) > 0 && countitem(7359) > 0 && countitem(7357) > 0 && countitem(7358) > 0) goto L_Ele05;

			if (countitem(7356) > 0 || countitem(7357) > 0 || countitem(7358) > 0 || countitem(7359) > 0) goto L_Ele06;

			goto L_Ele07;

			L_Ele05:
				menu "Insert Crest Pieces.",-;

					mes "^3300FF*Snap!*^000000";
					mes "^3300FFStrangely enough,";
					mes "all four of the Crest";
					mes "Pieces fit perfectly into";
					mes "the slots and begin to";
					mes "emit a strange light.^000000";
					cutin "5-1.bmp",2;
					specialeffect 72;
					delitem 7356,1;
					delitem 7359,1;
					delitem 7357,1;
					delitem 7358,1;
					next;
					menu "Pull out the Crest Pieces.",L_Ele08,"Pull the lever.",L_Ele09;

					L_Ele08:
						cutin "5.bmp",2;
						mes "^3355FFYou pull out all";
						mes "the Crest Pieces";
						mes "that you inserted";
						mes "into the slots.^000000";
						getitem 7356,1;
						getitem 7359,1;
						getitem 7357,1;
						getitem 7358,1;
						close2;
						cutin "5.bmp",255;
						end;

					L_Ele09:
						set gameing,$050420_jupe_ele_r;
						if (gameing == 1) goto L_Ele10;
						goto L_Ele11;

						L_Ele10:
							// Not yet translated
							mes "^3355FFIni aneh,";
							mes "tapi tuas ini sudah";
							mes "ditarik oleh orang lain.^000000";
							close2;
							cutin "5.bmp",255;
							end;

						L_Ele11:
							mes "^3355FFOnce you pull the lever,";
							mes "the Crest Piece slots are";
							mes "suddenly covered, making";
							mes "them irretrievable, and the";
							mes "ground begins to shake";
							mes "violently. This isn't normal!^000000";
							next;
							set $050420_jupe_ele_r,1;
							donpcevent "Switch#ufe::OnCommandOff";
							donpcevent "Switch On#ufe::OnCommandOn";
							attachnpctimer;
							initnpctimer;
							specialeffect2 563;
							soundeffect "earth_quake.wav",0;
							close2;
							cutin "5-1.bmp",255;
							end;

			L_Ele06:
				menu "Insert Crest Pieces.",-;

					mes "^3355FFRight now, you don't";
					mes "have enough Crest Pieces";
					mes "to place into all four of these";
					mes "slots. You'll need to find and bring them all to make this work.^000000";
					close2;
					cutin "5-1.bmp",255;
					end;

			L_Ele07:
				mes "^3355FFYou need to find";
				mes "some kind of object";
				mes "that you can fit into";
				mes "each of these four slots...^000000";
				close2;
				cutin "5-1.bmp",255;
				end;

		L_Ele04:
			mes "^3355FFWho knows what";
			mes "this lever may do?";
			mes "You'll never know unless";
			mes "you have the courage to try.^000000";
			close2;
			cutin "5.bmp",255;
			end;

OnTimer2000:
	mapannounce "jupe_ele_r.gat","My descendents...",1;
	end;

OnTimer3000:
	mapannounce "jupe_ele_r.gat","Do you want to know why this city was buried beneath the earth...?",1;
	end;

OnTimer7000:
	mapannounce "jupe_ele_r.gat","If so, follow my voice...",1;
	end;

OnTimer10000:
	mapannounce "jupe_ele_r.gat","I shall let you see for yourself what you desire to know...",1;
	end;

OnTimer17000:
	mapannounce "jupe_ele_r.gat","Overcome all the hallucinations.",1;
	end;

OnTimer20000:
	mapannounce "jupe_ele_r.gat","Open your eyes and see past all of the lies.",1;
	end;

OnTimer23000:
	mapannounce "jupe_ele_r.gat","I can only maintain this vision for you for 20 minutes.",1;
	mapannounce "jupe_ele_r.gat","Look! And remember!",1;
	donpcevent "Elevator Guard1#ufe::OnCommandOn";
	stopnpctimer;
	end;

OnCommandOff:
	disablenpc "Switch#ufe";
	end;

OnCommandOn:
	enablenpc "Switch#ufe";
	end;
}

jupe_ele_r.gat,51,98,0	script	Switch On#ufe	111,{

	mes "^3355FFIt seems like";
	mes "someone else is";
	mes "using this machine...^000000";
	close;

OnInit:
	disablenpc "Switch On#ufe";
	end;

OnCommandOff:
	disablenpc "Switch On#ufe";
	end;

OnCommandOn:
	enablenpc "Switch On#ufe";
	end;
}

jupe_ele_r.gat,10,50,0	script	Elevator Guard1#ufe	111,2,2,{

OnInit:
	disablenpc "Elevator Guard1#ufe";
	end;

OnCommandReset:
// To-Do:
//	resetmymob;
	end;

OnCommandOff:
	disablenpc "Elevator Guard1#ufe"
	end;

OnCommandOn:
	attachnpctimer;
	initnpctimer;
	end;

OnTimer1000:
	monster "jupe_ele_r.gat",44,99,"Guard",1669,1;
	end;

OnTimer1200:
	monster "jupe_ele_r.gat",55,99,"Guard",1675,1;
	end;

OnTimer1400:
	monster "jupe_ele_r.gat",45,84,"Guard",1664,1;
	end;

OnTimer1600:
	monster "jupe_ele_r.gat",54,84,"Guard",1675,1;
	end;

OnTimer1800:
	monster "jupe_ele_r.gat",45,99,"Guard",1675,1;
	end;

OnTimer2000:
	monster "jupe_ele_r.gat",54,99,"Guard",1664,1;
	end;

OnTimer2200:
	monster "jupe_ele_r.gat",48,84,"Guard",1669,1;
	end;

OnTimer2400:
	monster "jupe_ele_r.gat",52,84,"Guard",1664,1;
	end;

OnTimer2600:
	monster "jupe_ele_r.gat",50,84,"Chief Guard",1668,1;
	end;

OnTimer120000:
	mapannounce "jupe_ele_r.gat","It is disappointing to see that you are too weak to even defeat a hallucination...",1;
	donpcevent "Switch#ufe::OnCommandOn";
	donpcevent "Switch On#ufe::OnCommandOff";
	donpcevent "Annihilation#ufe::OnCommandOn";
	set $050420_jupe_ele_r,0;
	end;

OnTimer120005:
	donpcevent "Elevator Guard1#ufe::Reset";
	stopnpctimer;
	end;

OnMyMobDead:
	if (npcv "Elevator Guard1#ufe" [VAR_MYMOBCOUNT] >= 1) end;
	goto L_Mobcount01;

	L_Mobcount01:
		set $050420_jupe_ele_r,0;
		donpcevent "Elevator Guard1#ufe::Reset";
		donpcevent "Elevator Safety#ufe::OnCommandOn";
		stopnpctimer;
		end;
}

jupe_ele_r.gat,10,52,0	script	Elevator Safety#ufe	139,{

OnInit:
	disablenpc "Elevator Safety#ufe";
	end;

OnCommandOff:
	disablenpc "Elevator Safety#ufe";
	end;

OnCommandOn:
	enablenpc "Elevator Safety#ufe";
	initnpctimer;
	end;

OnTimer5000:
	mapannounce "jupe_ele_r.gat","Those of you who have defeated the hallucination, step forward.",1;
	soundeffect "earth_quake.wav",0;
	end;

OnTimer8000:
	donpcevent "Elevator On#ufe::OnCommandOn";
	end;

OnTimer10000:
	donpcevent "Elevator Safety#ufe::OnCommandOff";
	stopnpctimer;
	end;
}

jupe_ele_r.gat,50,89,0	script	Annihilation#ufe	111,35,50,{

OnInit:
	disablenpc "Annihilation#ufe"
	end;

OnCommandOn:
	disablenpc "Annihilation#ufe"
	initnpctimer;
	end;

OnCommandOff:
	disablenpc "Annihilation#ufe"
	end;

OnTouch:
	percentheal -99,-100;
	end;

OnTimer1000:
	mapwarp "jupe_ele_r.gat","jupe_gate.gat",49,138;
// Was already commented in the Aegis script?
//	donpcevent "Annihilation#ufe::OnCommandOff";
	end;

OnTimer1100:
	enablenpc "Annihilation#ufe";
	end;

OnTimer1600:
	donpcevent "Elevator Escape#ufe::OnCommandOn";
	end;

OnTimer3000:
	disablenpc "Annihilation#ufe";
	donpcevent "Elevator Escape#ufe::OnCommandOff";
	end;
}

jupe_ele_r.gat,50,89,0	script	Elevator Escape#ufe	111,35,50,{

OnInit:
	disablenpc "Elevator Escape#ufe";
	end;

OnCommandOff:
	disablenpc "Elevator Escape#ufe";
	end;

OnCommandOn:
	enablenpc "Elevator Escape#ufe";
	end;

OnTouch:
	mapwarp "jupe_ele_r.gat","jupe_gate.gat",49,138;
	end;
}

jupe_ele_r.gat,10,54,0	script	Elevator On#ufe	111,{

OnInit:
	disablenpc "Elevator On#ufe"
	end;

OnCommandOff:
	disablenpc "Elevator On#ufe"
	end;

OnCommandOn:
	enablenpc "Elevator On#ufe"
	initnpctimer;
	end;

OnTimer1000:
	mapwarp "jupe_ele_r.gat","jupe_ele.gat",42,47;
	set $050425_ufe_elev,0;
	donpcevent "TimeOut#ufe::OnCommandOn";
	donpcevent "Guard-1#ufe::OnCommandOn";
	end;

OnTimer10000:
	disablenpc "Elevator On#ufe";
	end;
}

jupe_ele.gat,14,6,0	script	TimeOut#ufe	111,1,0,{

OnCommandOn:
	attachnpctimer;
	initnpctimer;
	end;

OnCommandOff:
	stopnpctimer;
	end;

OnTimer59000:
	set mapcount,getmapusers("jupe_ele.gat");
	if (mapcount != 0) end;
	goto L_Mapcount01;

	L_Mapcount01:
		set $050425_ufe_elev,5;
		donpcevent "Guard-1#ufe::OnCommandOff";
		donpcevent "Guard-2#ufe::OnCommandOff";
		donpcevent "Guard-3#ufe::OnCommandOff";
		donpcevent "Guard-4#ufe::OnCommandOff";
		donpcevent "Guard-1#ufe::Reset";
		donpcevent "Guard-2#ufe::Reset";
		donpcevent "Guard-3#ufe::Reset";
		donpcevent "Guard-4#ufe::Reset";
		stopnpctimer;
		set $050425_ufe_elev,0;
		set $050420_jupe_ele_r,0;
		donpcevent "Switch On#ufe::OnCommandOff";
		donpcevent "Switch#ufe::OnCommandOn";
		end;

OnTimer120000:
	donpcevent "Guard-1#ufe::OnCommandOff";
	donpcevent "Guard-2#ufe::OnCommandOff";
	donpcevent "Guard-3#ufe::OnCommandOff";
	donpcevent "Guard-4#ufe::OnCommandOff";
	donpcevent "Guard-1#ufe::Reset";
	donpcevent "Guard-2#ufe::Reset";
	donpcevent "Guard-3#ufe::Reset";
	donpcevent "Guard-4#ufe::Reset";
	mapannounce "jupe_ele.gat","In the end, you can't even overcome your inner fear...",1;
	end;

OnTimer122000:
	mapannounce "jupe_ele.gat","You have never encountered your inner fears, have you?",1;
	end;

OnTimer125000:
	mapannounce "jupe_ele.gat","Did you expect this would be the end of the hallucination?",1;
	end;

OnTimer127000:
	mapannounce "jupe_ele.gat","What if the voice you're hearing is also a hallucination?",1;
	end;

OnTimer129000:
	mapannounce "jupe_ele.gat","What if you're just dreaming all of this?",1;
	end;

OnTimer131000:
	mapannounce "jupe_ele.gat","What if the existence of this city is a lie?",1;
	end;

OnTimer133000:
	mapannounce "jupe_ele.gat","Are you even real?",1;
	end;

OnTimer134000:
	mapwarp "jupe_ele.gat","jupe_gate.gat",49,138;
	end;

OnTimer135000:
	mapwarp "jupe_ele.gat","jupe_gate.gat",49,138;
	end;

OnTimer132000:
	donpcevent "GuardEnd#ufe::OnCommandOff";
	donpcevent "4F Enter#ufe::OnCommandOff";
	donpcevent "TimeOut#ufe::OnCommandOff";
	set $050425_ufe_elev,0;
	set $050420_jupe_ele_r,0;
	donpcevent "Switch On#ufe::OnCommandOff";
	donpcevent "Switch#ufe::OnCommandOn";
	stopnpctimer;
	end;
}

jupe_ele.gat,15,6,0	script	Guard-1#ufe	111,1,0,{

OnCommandOn:
	attachnpctimer;
	initnpctimer;
	end;

OnCommandOff:
	stopnpctimer;
	end;

OnCommandReset:
// To-Do:
//	resetmymob;
	end;

OnTimer2000:
	mapannounce "jupe_ele.gat","I admire your patience.",1;
	end;

OnTimer5000:
	mapannounce "jupe_ele.gat","Let's see if everything you have experienced",1;
	end;

OnTimer8000:
	mapannounce "jupe_ele.gat","were traps for intruders...",1;
	end;

OnTimer12000
	monster "jupe_ele.gat" VENATU "Guard" 48 44;
	monster "jupe_ele.gat" DIMIK "Guard" 45 42;
	monster "jupe_ele.gat" VENATU "Guard" 38 42;
	monster "jupe_ele.gat" DIMIK "Guard" 35 44;
	monster "jupe_ele.gat" VENATU "Guard" 35 51;
	monster "jupe_ele.gat" DIMIK "Guard" 38 53;
	monster "jupe_ele.gat" VENATU "Guard" 45 53;
	monster "jupe_ele.gat" DIMIK "Guard" 48 51;
	end;

OnTimer30000:
	set aa,$050425_ufe_elev;
	if (aa != 0) end;

	set $050425_ufe_elev,1;
	donpcevent "Guard-2#ufe::OnCommandOn";
	stopnpctimer;
	end;

OnMyMobDead:
	if (npcv "Guard-1#ufe" [VAR_MYMOBCOUNT] < 1)
	{
		set aa,$050425_ufe_elev;
		if (aa == 0)
		{
			set $050425_ufe_elev, 1
			donpcevent "Guard-2#ufe::OnCommandOn"
			stopnpctimer;
		}
		else if (aa == 4)
		{
			if (npcv "Guard-4#ufe" [VAR_MYMOBCOUNT] < 1)
			{
				if (npcv "Guard-3#ufe" [VAR_MYMOBCOUNT] < 1)
				{
					if (npcv "Guard-2#ufe" [VAR_MYMOBCOUNT] < 1)
					{
						donpcevent "GuardEnd#ufe::OnCommandOn"
						stopnpctimer;
						end;
					}
				}
			}
		}
	}
	end;
}

jupe_ele.gat,16,6,0	script	Guard-2#ufe	111,16,6,{

OnCommandOn:
	attachnpctimer;
	initnpctimer;
	end;

OnCommandOff:
	stopnpctimer;
	end;

OnCommandReset:
// To-Do:
//	resetmymob;
	end;

OnTimer2000:
	mapannounce "jupe_ele.gat","This city was not",1;
	end;

OnTimer5000:
	mapannounce "jupe_ele.gat","as magnificient as you thought.",1;
	end;

OnTimer8000:
	mapannounce "jupe_ele.gat","This is a place where all the fears of humans flourish.",1;
	end;

OnTimer11000:
	mapannounce "jupe_ele.gat","Yes. Nobody leaves alive!",1;
	end;

OnTimer12000:
	monster "jupe_ele.gat" G_POTON_CANON "Guard" 48 44;
	monster "jupe_ele.gat" DIMIK "Guard" 45 42;
	monster "jupe_ele.gat" G_POTON_CANON "Guard" 38 42;
	monster "jupe_ele.gat" DIMIK "Guard" 35 44;
	monster "jupe_ele.gat" G_POTON_CANON "Guard" 35 51;
	monster "jupe_ele.gat" DIMIK "Guard" 38 53;
	monster "jupe_ele.gat" G_POTON_CANON "Guard" 45 53;
	monster "jupe_ele.gat" DIMIK "Guard" 48 51;
	end;

OnTimer30000:
	set aa,$050425_ufe_elev;
	if (aa != 1) end;

	set $050425_ufe_elev,2;
	donpcevent "Guard-3#ufe::OnCommandOn";
	stopnpctimer;
	end;

OnMyMobDead:
	if (npcv "Guard-2#ufe" [VAR_MYMOBCOUNT] < 1)
	{
		set aa,$050425_ufe_elev;
		if (aa == 1)
		{
			set $050425_ufe_elev, 2
			donpcevent "Guard-3#ufe::OnCommandOn"
			stopnpctimer;
			end;
		}
		else if (aa == 4)
		{
			if (npcv "Guard-4#ufe" [VAR_MYMOBCOUNT] < 1)
			{
				if (npcv "Guard-3#ufe" [VAR_MYMOBCOUNT] < 1)
				{
					if (npcv "Guard-1#ufe" [VAR_MYMOBCOUNT] < 1)
					{
						donpcevent "GuardEnd#ufe::OnCommandOn"
						stopnpctimer;
						end;
					}
				}
			}
		}
	}
	end;
}

jupe_ele.gat,17,6,0	script	Guard-3#ufe	111,1,0,{

OnCommandOn
	attachnpctimer;
	initnpctimer;
	end;

OnCommandOff:
	stopnpctimer;
	end;

OnCommandReset:
// To-Do:
//	resetmymob;
	end;

OnTimer2000:
	mapannounce "jupe_ele.gat","What do you see?",1;
	end;

OnTimer5000:
	mapannounce "jupe_ele.gat","Are your eyes actually seeing something?",1;
	end;

OnTimer8000:
	mapannounce "jupe_ele.gat","Or do you just believe you are seeing?",1;
	end;

OnTimer12000:
	monster "jupe_ele.gat" VENATU "Guard" 48 44;
	monster "jupe_ele.gat" DIMIK "Guard" 45 42;
	monster "jupe_ele.gat" G_POTON_CANON "Guard" 38 42;
	monster "jupe_ele.gat" VENATU "Guard" 35 44;
	monster "jupe_ele.gat" DIMIK "Guard" 35 51;
	monster "jupe_ele.gat" G_POTON_CANON "Guard" 38 53;
	monster "jupe_ele.gat" VENATU "Guard" 45 53;
	monster "jupe_ele.gat" DIMIK "Guard" 48 51;
	end;

OnTimer30000:
	set aa,$050425_ufe_elev;
	if (aa != 2) end;

	set $050425_ufe_elev,3;
	donpcevent "Guard-4#ufe::OnCommandOn";
	stopnpctimer;
	end;

OnMyMobDead:
	if (npcv "Guard-3#ufe" [VAR_MYMOBCOUNT] < 1)
	{
		set aa,$050425_ufe_elev;

		if (aa == 2)
		{
			set $050425_ufe_elev,3;
			donpcevent "Guard-4#ufe::OnCommandOn";
			stopnpctimer;
			end;
		}

		if (aa == 4)
		{
			if (npcv "Guard-4#ufe" [VAR_MYMOBCOUNT] < 1)
			{
				if (npcv "Guard-2#ufe" [VAR_MYMOBCOUNT] < 1)
				{
					if (npcv "Guard-1#ufe" [VAR_MYMOBCOUNT] < 1)
					{
						donpcevent "GuardEnd#ufe::OnCommandOn";
						stopnpctimer;
						end;
					}
				}
			}
		}
	}
	end;
}

jupe_ele.gat,18,6,0	script	Guard-4#ufe	111,1,0,{

OnCommandOn:
	attachnpctimer;
	initnpctimer;
	end;

OnCommandOff:
	stopnpctimer;
	end;

OnCommandReset:
// To-Do:
//	resetmymob;
	end;

OnTimer2000:
	mapannounce "jupe_ele.gat","Do not forget. That which limits you is nothing but yourself.",1;
	end;

OnTimer5000:
	mapannounce "jupe_ele.gat","Nothing is what you fear and you have nothing to fear...",1;
	end;

OnTimer8000:
	set $050425_ufe_elev,4;
	monster "jupe_ele.gat" G_ARCHDAM "Guard" 48 44;
	monster "jupe_ele.gat" DIMIK "Guard" 45 42;
	monster "jupe_ele.gat" G_ARCHDAM "Guard" 38 42;
	monster "jupe_ele.gat" DIMIK "Guard" 35 44;
	monster "jupe_ele.gat" VENATU "Guard" 35 51;
	monster "jupe_ele.gat" DIMIK "Guard" 38 53;
	monster "jupe_ele.gat" G_POTON_CANON "Guard" 45 53;
	monster "jupe_ele.gat" VENATU "Guard" 48 51;
	end;

OnMyMobDead:
	if (npcv "Guard-4#ufe" [VAR_MYMOBCOUNT] < 1)
	{
		if (npcv "Guard-3#ufe" [VAR_MYMOBCOUNT] < 1)
		{
			if (npcv "Guard-2#ufe" [VAR_MYMOBCOUNT] < 1)
			{
				if (npcv "Guard-1#ufe" [VAR_MYMOBCOUNT] < 1)
				{
					donpcevent "GuardEnd#ufe::OnCommandOn"
					stopnpctimer;
					end;
				}
			}
		}
	}
	end;
}

jupe_ele.gat,19,6,0	script	GuardEnd#ufe	111,1,0,{

OnInit:
	disablenpc "GuardEnd#ufe";
	end;

OnCommandOn:
	enablenpc "GuardEnd#ufe";
	donpcevent "TimeOut#ufe::OnCommandOff";
	attachnpctimer;
	initnpctimer;
	end;

OnCommandOff:
	disablenpc "GuardEnd#ufe";
	stopnpctimer;
	end;

OnTimer2000:
	mapannounce "jupe_ele.gat","I am not going to tell you anything.",1;
	end;

OnTimer5000:
	mapannounce "jupe_ele.gat","My city, my people are now but a memory.",1;
	end;

OnTimer8000:
	mapannounce "jupe_ele.gat","Everything was a mistake. We were not supposed to be here.",1;
	end;

OnTimer11000:
	mapannounce "jupe_ele.gat","Is this a place where humans are forbidden?",1;
	end;

OnTimer12000:
	mapannounce "jupe_ele.gat","You want to know, don't you? Go ahead... Go deeper.",1;
	enablenpc "4F Enter#ufe";
	end;

OnTimer22000:
	mapannounce "jupe_ele.gat","It's not real anyway. All of it's safe, it can't hurt you...",1;
	soundeffect "earth_quake.wav",0;
	donpcevent "4F Enter#ufe::OnCommandOff";
	end;

OnTimer24000:
	mapwarp "jupe_ele.gat","jupe_core.gat",150,286;
	end;

OnTimer25000:
	mapwarp "jupe_ele.gat","jupe_core.gat",151,286;
	end;

OnTimer26000:
	donpcevent "GuardEnd#ufe::OnCommandOff";
	donpcevent "4F Enter#ufe::OnCommandOff";
	donpcevent "TimeOut#ufe::OnCommandOff";
	set $050425_ufe_elev,0;
	set $050420_jupe_ele_r,0;
	donpcevent "Switch On#ufe::OnCommandOff";
	donpcevent "Switch#ufe::OnCommandOn";
	stopnpctimer;
	end;
}

//=========================================================
//= Juperos Special Warps
//=========================================================

// To-Do: Header not converted
warp "jupe_ele.gat" "4F Enter#ufe" 41 33 4 4,{

OnInit:
	disablenpc "4F Enter#ufe";
	end;

OnCommandOn:
	enablenpc "4F Enter#ufe";
	end;

OnCommandOff:
	disablenpc "4F Enter#ufe";
	end;

OnTouch:
	set dochak,rand(1,3);

	if (dochak == 1)
		warp "jupe_core.gat",149,286;

	if (dochak == 2)
		warp "jupe_core.gat",150,286;

	if (dochak == 3)
		warp "jupe_core",151,286;

	end;
}

yuno_fild07.gat,228,175,0	script	#jupe_entrance01	111,2,2,{

OnTouch:
	warp "jupe_cave.gat",143,52;
	end;
}

jupe_cave.gat,29,52,0	script	#jupe_entrance02	111,2,2,{

OnTouch:
	warp "juperos_01.gat",54,246;
	end;
}

jupe_cave.gat,147,52,0	script	#jupe_entrance03	111,2,2,{

OnTouch:
	warp "yuno_fild07.gat",234,171;
	end;
}

juperos_01.gat,51,249,0	script	#jupe_exit	111,2,2,{

OnTouch:
	warp "jupe_cave.gat",36,51;
	end;
}

jupe_gate.gat,50,173,0	script	gate#start	111,2,3,{

OnCommandOn:
	enablenpc "gate#start";
	end;

OnCommandOff:
	disablenpc "gate#start";
	end;

OnTouch:
	attachnpctimer;
	initnpctimer;
	mes "^3355FFIt's a Warp Portal";
	mes "that will teleport you";
	mes "to the previous floor.^000000";
	next;
	menu "Use it.",L_Case01,"Ignore it.",L_Case02;

	L_Case01:
		specialeffect 348;
		next;
		stopnpctimer;
		warp "juperos_02.gat",130,142;
		close;

	L_Case02:
		mes "[" + strcharinfo(0) + "]";
		mes "Not now!";
		mes "I can't leave yet!";
		next;
		warp "jupe_gate.gat",50,168;
		stopnpctimer;
		close;

OnTimer10000:
	warp "juperos_02.gat",128,278;
	donpcevent "gate#start02::OnCommandOn";
	disablenpc "gate#start";
	end;
}

jupe_gate.gat,50,171,0	script	gate#start02	111,2,2,{

OnInit:
	disablenpc "gate#start02";
	end;

OnCommandOn:
	enablenpc "gate#start02";
	initnpctimer;
	end;

OnCommandOff:
	disablenpc "gate#start02";
	end;

OnTouch:
	warp "juperos_02.gat",130,142;
	end;

OnTimer2000:
	donpcevent "gate#start::OnCommandOn";
	disablenpc "gate#start02";
	end;
}

// To-Do: Not fully converted warps past this point (Check the headers)

warp "jupe_gate.gat" "gate#left1" 28 145 2 4,{

OnTouch:
	warp "jupe_area1.gat",100,222;
	end;
}

warp "jupe_area1.gat" "gate#left2" 103 222 2 4,{

OnTouch:
	warp "jupe_gate.gat",31,145;
	end;
}

warp "jupe_gate.gat" "gate#right1" 71 145 2 4,{

OnTouch:
	warp "jupe_area2.gat",63,222;
	end;
}

warp "jupe_area2.gat" "gate#right2" 60 222 2 4,{

OnTouch:
	warp "jupe_gate.gat",68,145;
	end;
}

warp "jupe_gate.gat" "gate#ele" 49 55 4 2,{

OnTouch:
	warp "jupe_ele_r.gat",49,30;
	end;
}

warp "juperos_02.gat" "jupe_goto2F" 33 59 2 2,{

OnTouch:
	set @warp_jufe,rand(1,4);
	if (@warp_jufe > 0 && @warp_jufe < 2)
		warp "juperos_01.gat",120,72;

	if (@warp_jufe > 1 && @warp_jufe < 3)
		warp "juperos_01.gat",120,112;

	if (@warp_jufe > 2 && @warp_jufe < 4)
		warp "juperos_01.gat",79,112;

	if (warp_jufe > 3 && warp_jufe < 5)
		warp "juperos_01.gat",79,72;

	set @warp_jufe,0;
	end;
}


//=========================================================
//= Juperos Area #1
//=========================================================

npc "jupe_area1" "#hole#1-1" CLEAR_NPC 88 224 0 0 0
OnCommand: "on"
	enablenpc "#hole#1-1"
return
OnCommand: "off"
	disablenpc "#hole#1-1"
return
OnCommand: "stop_timer"
	stoptimer
return
OnClick:
	var gameing = GetGlobalVar "050420_jupe_area1"
	showimage "1.bmp" 2
	if (gameing == 1)
		dialog "^3355FFThis seems like"
		dialog "some kind of device"
		dialog "that will allow you to"
		dialog "pass to the other side."
		dialog "There's a slot where you"
		dialog "probably need to insert"
		dialog "some kind of object...^000000"
		close
		showimage "1.bmp" 255
		return
	elseif ((v[Piece_Of_Crest1] > 0) | (v[Piece_Of_Crest2] > 0) | (v[Piece_Of_Crest3] > 0) | (v[Piece_Of_Crest4] > 0))
		dialog "^3355FFThis seems like"
		dialog "some kind of device"
		dialog "that will allow you to"
		dialog "pass to the other side."
		dialog "There's a slot where you"
		dialog "probably need to insert"
		dialog "some kind of object...^000000"
		wait
		choose menu "Insert a Crest Piece." "Cancel."
		case 1
			if (v[Piece_Of_Crest1] > 0)
				dialog "^3355FFYou take out your"
				dialog "Crest Piece and place"
				dialog "it into the slot where it"
				dialog "happens to fit perfectly.^000000"
				ShowEffect "#hole#1-1" EF_TOPRANK
				showimage "1-1.bmp" 2
				wait
				var gameing = GetGlobalVar "050420_jupe_area1"
				if (gameing == 1)
					dialog "^3355FFNothing happens."
					dialog "Perhaps an alarm or"
					dialog "some other safety measure"
					dialog "was activated to keep the"
					dialog "Crest Piece from activating"
					dialog "this transportation device."
					dialog "You retrieve the Crest Piece.^000000"
					close
					showimage "1-1.bmp" 255
					return
				else
					dialog "^3355FFThe slot rotates and"
					dialog "the Crest Piece moves as"
					dialog "if it were turning a key. You"
					dialog "feel a weak tremor as a Warp"
					dialog "Portal to the other side is"
					dialog "activated. You then retrieve"
					dialog "your Crest Piece.^000000"
					InitTimer
					cmdothernpc "Warp#1-1" "on"
					cmdothernpc "Red Alarm#1-1" "on"
					disablenpc "#hole#1-1"
					close
					showimage "1-1.bmp" 255
					return
				endif
			else
				dialog "^3355FFUnfortunately, you're"
				dialog "not carrying anything"
				dialog "that might be able to fit"
				dialog "into the slot and activate"
				dialog "this mechanical device.^000000"
				close
				showimage "1.bmp" 255
				return
			endif
		break
		case 2
			var name = PcName
			dialog "[" + name + "]"
			dialog "Hmmm..."
			dialog "Do I have anything"
			dialog "that might make this"
			dialog "weird machine work?"
			close
			showimage "1.bmp" 255
			return
		break
		endchoose
		close
	else
		dialog "^3355FFThis seems like"
		dialog "some kind of device"
		dialog "that will allow you to"
		dialog "pass to the other side."
		dialog "There's a slot where you"
		dialog "probably need to insert"
		dialog "some kind of object...^000000"
		close
		showimage "1.bmp" 255
		return
	endif
return
OnTimer: 22500
	enablenpc "#hole#1-1" "on"
	cmdothernpc "Red Alarm#1-1" "off"
return

hiddenwarp "jupe_area1" "Warp#1-1" 83 221 2 2
OnInit:
	disablenpc "Warp#1-1"
return
OnCommand: "off"
	disablenpc "Warp#1-1"
return
OnCommand: "reset"
	disablenpc "Warp#1-1"
return
OnCommand: "on"
	enablenpc "Warp#1-1"
	ShowEffect "Warp#1-1" 561
	sound "jupe_warp.wav" 2 0 0
	InitTimer
return
OnTouch:
	moveto "jupe_area1" 47 259
return
OnTimer: 22500
	cmdothernpc "Warp#1-1" "reset"
return

hiddenwarp "jupe_area1" "Red Alarm#1-1" 47 259 2 2
OnInit:
	disablenpc "Red Alarm#1-1"
return
OnCommand: "off"
	disablenpc "Red Alarm#1-1"
return
OnCommand: "on"
	enablenpc "Red Alarm#1-1"
return
OnTouch:
	var gameing = GetGlobalVar "050420_jupe_area1"
	gameing = gameing + 1
	SetGlobalVar "050420_jupe_area1" 1
	cmdothernpc "Red Alarm Start#1-1" "on"
	cmdothernpc "Red Alarm#1-1" "off"
	cmdothernpc "#hole#1-1" "stop_timer"
return

hiddenwarp "jupe_area1" "Red Alarm Start#1-1" 60 230 0 0
OnInit:
	disablenpc "Red Alarm Start#1-1"
return
OnCommand: "off"
	disablenpc "Red Alarm Start#1-1"
return
OnCommand: "reset"
	disablenpc "Red Alarm Start#1-1"
return
OnCommand: "on"
	enablenpc "Red Alarm Start#1-1"
	cmdothernpc "Red Alarm On#1-1" "on"
return

hiddenwarp "jupe_area1" "Red Alarm On#1-1" 61 230 0 0 0
OnInit:
	disablenpc "Red Alarm On#1-1"
return
OnCommand: "off"
	disablenpc "Red Alarm On#1-1"
return
OnCommand: "on"
	enablenpc "Red Alarm On#1-1"
	InitTimer
return
OnTimer: 1000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Those of you who have come here..."
return
OnTimer: 3000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I do not intend to stop you."
	sound "jupe_warning.wav" 2 0 0
	sound "jupe_warning.wav" 2 0 1000
	cmdothernpc "#hole#1-1" "off"
return
OnTimer: 5000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "But I assume you are prepared for a few obstacles..."
	cmdothernpc "Monster1#1-1" "on"
return
OnTimer: 7000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "After all, you are venturing through a forbidden area!"
return
OnTimer: 8000
	cmdothernpc "Red Alarm On#1-1" off
	sound "jupe_warning.wav" 2 0 0
	sound "jupe_warning.wav" 2 0 1000
return

hiddenwarp "jupe_area1" "Monster1#1-1" 62 230 0 0 0
OnInit:
	disablenpc "Monster1#1-1"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster1#1-1"
return
OnCommand: "on"
	var gameing = GetGlobalVar "050420_jupe_area1"
	InitTimer
	enablenpc "Monster1#1-1"
	callmonster "jupe_area1" VENATU "Security Guard" 30 263
	callmonster "jupe_area1" DIMIK "Security Guard" 30 262
	callmonster "jupe_area1" VENATU "Security Guard" 30 261
	callmonster "jupe_area1" DIMIK "Security Guard" 30 260
	callmonster "jupe_area1" VENATU "Security Guard" 30 259
	callmonster "jupe_area1" DIMIK "Security Guard" 30 258
	callmonster "jupe_area1" VENATU "Security Guard" 30 257
	callmonster "jupe_area1" DIMIK "Security Guard" 30 256
return
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Do you realize this is a hallucination?"
	SetGlobalVar "050420_jupe_area1" 0
return
OnTimer: 300002
	cmdothernpc "Monster1#1-1" "reset"
	cmdothernpc "#hole#1-1" "on"
return
return
OnMyMobDead:
	if npcv "Monster1#1-1" [VAR_MYMOBCOUNT] < 1
		cmdothernpc "Monster2#1-1" "on"
		cmdothernpc "Monster1#1-1" "reset"
		stoptimer
	endif
return

hiddenwarp "jupe_area1" "Monster2#1-1" 64 230 0 0
OnInit:
	disablenpc "Monster2#1-1"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster2#1-1"
return
OnCommand: "on"
	var gameing = GetGlobalVar "050420_jupe_area1"
	InitTimer
return
OnTimer: 2000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "How about now?"
	sound "jupe_warning.wav" 2 0 0
	sound "jupe_warning.wav" 2 0 1000
return
OnTimer: 4000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Let me see..."
return
OnTimer: 7000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Just how strong you are!"
	sound "jupe_warning.wav" 2 0 0
	sound "jupe_warning.wav" 2 0 1000
	enablenpc "Monster2#1-1"
	callmonster "jupe_area1" VENATU "Security Guard" 30 238
	callmonster "jupe_area1" DIMIK "Security Guard" 31 238
	callmonster "jupe_area1" VENATU "Security Guard" 32 238
	callmonster "jupe_area1" DIMIK "Security Guard" 33 238
	callmonster "jupe_area1" VENATU "Security Guard" 34 238
	callmonster "jupe_area1" DIMIK "Security Guard" 35 238
	callmonster "jupe_area1" VENATU "Security Guard" 36 238
	callmonster "jupe_area1" DIMIK "Security Guard" 37 238
return
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Bwahaha! You're only good at running away!"
	cmdothernpc "Monster2#1-1" "reset"
	cmdothernpc "#hole#1-1" "on"
	cmdothernpc "Red Alarm#1-1" "off"
	SetGlobalVar "050420_jupe_area1" 0
return
OnTimer: 300002
	cmdothernpc "Monster2#1-1" "reset"
return
OnMyMobDead:
	if npcv "Monster2#1-1" [VAR_MYMOBCOUNT] < 1
		broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Zzzzt. Zzzzt..... "
		cmdothernpc "Monster2#1-1" "reset"
		cmdothernpc "#hole#1-1" "on"
		cmdothernpc "Red Alarm#1-1" "off"
		SetGlobalVar "050420_jupe_area1" 0
		stoptimer
	endif
return

npc "jupe_area1" "#hole#1-2" CLEAR_NPC 25 238 0 0 0
OnCommand: "on"
	enablenpc "#hole#1-2"
return
OnCommand: "off"
	disablenpc "#hole#1-2"
return
OnCommand: "stop_timer"
	stoptimer
return
OnClick:
	var gameing = GetGlobalVar "050420_jupe_area1"
	showimage "2.bmp" 2
	if (gameing == 1)
		dialog "^3355FFThis seems like"
		dialog "some kind of device"
		dialog "that will allow you to"
		dialog "pass to the other side."
		dialog "There's a slot where you"
		dialog "probably need to insert"
		dialog "some kind of object...^000000"
		close
		showimage "2.bmp" 255
		return
	elseif ((v[Piece_Of_Crest1] > 0) | (v[Piece_Of_Crest2] > 0) | (v[Piece_Of_Crest3] > 0) | (v[Piece_Of_Crest4] > 0))
		dialog "^3355FFThis seems like"
		dialog "some kind of device"
		dialog "that will allow you to"
		dialog "pass to the other side."
		dialog "There's a slot where you"
		dialog "probably need to insert"
		dialog "some kind of object...^000000"
		wait
		choose menu "Insert a Crest Piece." "Cancel."
		case 1
			if (v[Piece_Of_Crest2] > 0)
				dialog "^3355FFYou take out your"
				dialog "Crest Piece and place"
				dialog "it into the slot where it"
				dialog "happens to fit perfectly.^000000"
				ShowEffect "#hole#1-2" EF_TOPRANK
				showimage "2-1.bmp" 2
				wait
				var gameing = GetGlobalVar "050420_jupe_area1"
				if (gameing == 1)
					dialog "^3355FFNothing happens."
					dialog "Perhaps an alarm or"
					dialog "some other safety measure"
					dialog "was activated to keep the"
					dialog "Crest Piece from activating"
					dialog "this transportation device."
					dialog "You retrieve the Crest Piece.^000000"
					close
					showimage "2-1.bmp" 255
					return
				else
					dialog "^3355FFThe slot rotates and"
					dialog "the Crest Piece moves as"
					dialog "if it were turning a key. You"
					dialog "feel a weak tremor as a Warp"
					dialog "Portal to the other side is"
					dialog "activated. You then retrieve"
					dialog "your Crest Piece.^000000"
					InitTimer
					cmdothernpc "Warp#1-2" "on"
					cmdothernpc "Red Alarm#1-2" "on"
					disablenpc "#hole#1-2"
					close
					showimage "2-1.bmp" 255
					return
				endif
			else
				dialog "^3355FFUnfortunately, you're"
				dialog "not carrying anything"
				dialog "that might be able to fit"
				dialog "into the slot and activate"
				dialog "this mechanical device.^000000"
				close
				showimage "2.bmp" 255
				return
			endif
		break
		case 2
			var name = PcName
			dialog "[" + name + "]"
			dialog "Hmmm..."
			dialog "Do I have anything"
			dialog "that might make this"
			dialog "weird machine work?"
			close
			showimage "2.bmp" 255
			return
		break
		endchoose
		close
	else
		dialog "^3355FFThis seems like"
		dialog "some kind of device"
		dialog "that will allow you to"
		dialog "pass to the other side."
		dialog "There's a slot where you"
		dialog "probably need to insert"
		dialog "some kind of object...^000000"
		close
		showimage "2.bmp" 255
		return
	endif
return
OnTimer: 22500
	enablenpc "#hole#1-2" "on"
	cmdothernpc "Red Alarm#1-2" "off"
return

hiddenwarp "jupe_area1" "Warp#1-2" 21 225 2 2
OnInit:
	disablenpc "Warp#1-2"
return
OnCommand: "off"
	disablenpc "Warp#1-2"
return
OnCommand: "reset"
	disablenpc "Warp#1-2"
return
OnCommand: "on"
	enablenpc "Warp#1-2"
	ShowEffect "Warp#1-2" 561
	sound "jupe_warp.wav" 2 0 0
	InitTimer
return
OnTouch:
	moveto "jupe_area1" 21 191
return
OnTimer: 22500
	cmdothernpc "Warp#1-2" "reset"
return

hiddenwarp "jupe_area1" "Red Alarm#1-2" 21 191 2 2
OnInit:
	disablenpc "Red Alarm#1-2"
return
OnCommand: "off"
	disablenpc "Red Alarm#1-2"
return
OnCommand: "on"
	enablenpc "Red Alarm#1-2"
return
OnTouch:
	var gameing = GetGlobalVar "050420_jupe_area1"
	gameing = gameing + 1
	SetGlobalVar "050420_jupe_area1" 1
	cmdothernpc "Red Alarm Start#1-2" "on"
	cmdothernpc "Red Alarm#1-2" "off"
	cmdothernpc "#hole#1-2" "stop_timer"
return

hiddenwarp "jupe_area1" "Red Alarm Start#1-2" 60 231 0 0
OnInit:
	disablenpc "Red Alarm Start#1-2"
return
OnCommand: "off"
	disablenpc "Red Alarm Start#1-2"
return
OnCommand: "reset"
	disablenpc "Red Alarm Start#1-2"
return
OnCommand: "on"
	enablenpc "Red Alarm Start#1-2"
	cmdothernpc "Red Alarm On#1-2" "on"
return

hiddenwarp "jupe_area1" "Red Alarm On#1-2" 61 231 0 0 0
OnInit:
	disablenpc "Red Alarm On#1-2"
return
OnCommand: "off"
	disablenpc "Red Alarm On#1-2"
return
OnCommand: "on"
	enablenpc "Red Alarm On#1-2"
	InitTimer
return
OnTimer: 1000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Come on, come on!"
return
OnTimer: 3000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Yes. Run... Right into my hands!"
	cmdothernpc "#hole#1-2" "off"
return
OnTimer: 5000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Do you want to know who I am?"
	cmdothernpc "Monster1#1-2" "on"
return
OnTimer: 7000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "You will know, once you defeat all of my minions!"
return
OnTimer: 8000
	cmdothernpc "Red Alarm On#1-2" off
return

hiddenwarp "jupe_area1" "Monster1#1-2" 62 231 0 0 0
OnInit:
	disablenpc "Monster1#1-2"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster1#1-2"
return
OnCommand: "on"
	var gameing = GetGlobalVar "050420_jupe_area1"
	InitTimer
	enablenpc "Monster1#1-2"
	callmonster "jupe_area1" DIMIK "High Guard" 30 176
	callmonster "jupe_area1" VENATU "High Guard" 31 176
	callmonster "jupe_area1" DIMIK "High Guard" 32 176
	callmonster "jupe_area1" VENATU "High Guard" 33 176
	callmonster "jupe_area1" DIMIK "High Guard" 34 176
	callmonster "jupe_area1" VENATU "High Guard" 35 176
	callmonster "jupe_area1" DIMIK "High Guard" 36 176
	callmonster "jupe_area1" VENATU "High Guard" 37 176
return
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I can't believe how cowardly you really are..."
	SetGlobalVar "050420_jupe_area1" 0
return
OnTimer: 300002
	cmdothernpc "Monster1#1-2" "reset"
	cmdothernpc "#hole#1-2" "on"
return
return
OnMyMobDead:
	if npcv "Monster1#1-2" [VAR_MYMOBCOUNT] < 1
		cmdothernpc "Monster2#1-2" "on"
		cmdothernpc "Monster1#1-2" "reset"
		stoptimer
	endif
return

hiddenwarp "jupe_area1" "Monster2#1-2" 63 231 0 0 0
OnInit:
	disablenpc "Monster2#1-2"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster2#1-2"
return
OnCommand: "on"
	var gameing = GetGlobalVar "050420_jupe_area1"
	InitTimer
return
OnTimer: 2000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I was the head of this underground laboratory."
return
OnTimer: 4000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "But that was a long time ago, back when I was merely a human."
return
OnTimer: 6000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I was called Vesper Newton. Hahah, they called me a mad man back then."
	enablenpc "Monster2#1-2"
	callmonster "jupe_area1" DIMIK "Security Guard" 30 152
	callmonster "jupe_area1" VENATU "Security Guard" 31 152
	callmonster "jupe_area1" DIMIK "Security Guard" 32 152
	callmonster "jupe_area1" VENATU "Security Guard" 33 152
	callmonster "jupe_area1" DIMIK "Security Guard" 34 152
	callmonster "jupe_area1" VENATU "Security Guard" 35 152
	callmonster "jupe_area1" DIMIK "Security Guard" 36 152
	callmonster "jupe_area1" VENATU "Security Guard" 37 152
	callmonster "jupe_area1" DIMIK "Security Guard" 30 150
	callmonster "jupe_area1" VENATU "Security Guard" 31 150
	callmonster "jupe_area1" DIMIK "Security Guard" 32 150
	callmonster "jupe_area1" VENATU "Security Guard" 33 150
	callmonster "jupe_area1" DIMIK "Security Guard" 34 150
return
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "...not yet."
	cmdothernpc "Monster2#1-2" "reset"
	cmdothernpc "#hole#1-2" "on"
	cmdothernpc "Red Alarm#1-2" "off"
	SetGlobalVar "050420_jupe_area1" 0
return
OnTimer: 300002
	cmdothernpc "Monster2#1-2" "reset"
return
OnMyMobDead:
	if npcv "Monster2#1-2" [VAR_MYMOBCOUNT] < 1
		broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Not yet!"
		cmdothernpc "Monster2#1-2" "reset"
		cmdothernpc "#hole#1-2" "on"
		cmdothernpc "Red Alarm#1-2" "off"
		SetGlobalVar "050420_jupe_area1" 0
		stoptimer
	endif
return

npc "jupe_area1" "#hole#1-3" CLEAR_NPC 36 146 0 0 0
OnCommand: "on"
	enablenpc "#hole#1-3"
return
OnCommand: "off"
	disablenpc "#hole#1-3"
return
OnCommand: "stop_timer"
	stoptimer
return
OnClick:
	var gameing = GetGlobalVar "050420_jupe_area1"
	showimage "3.bmp" 2
	if (gameing == 1)
		dialog "^3355FFThis seems like"
		dialog "some kind of device"
		dialog "that will allow you to"
		dialog "pass to the other side."
		dialog "There's a slot where you"
		dialog "probably need to insert"
		dialog "some kind of object...^000000"
		close
		showimage "3.bmp" 255
		return
	elseif ((v[Piece_Of_Crest1] > 0) | (v[Piece_Of_Crest2] > 0) | (v[Piece_Of_Crest3] > 0) | (v[Piece_Of_Crest4] > 0))
		dialog "^3355FFThis seems like"
		dialog "some kind of device"
		dialog "that will allow you to"
		dialog "pass to the other side."
		dialog "There's a slot where you"
		dialog "probably need to insert"
		dialog "some kind of object...^000000"
		wait
		choose menu "Insert a Crest Piece." "Cancel."
		case 1
			if (v[Piece_Of_Crest3] > 0)
				dialog "^3355FFYou take out your"
				dialog "Crest Piece and place"
				dialog "it into the slot where it"
				dialog "happens to fit perfectly.^000000"
				ShowEffect "#hole#1-3" EF_TOPRANK
				showimage "3-1.bmp" 2
				wait
				var gameing = GetGlobalVar "050420_jupe_area1"
				if (gameing == 1)
					dialog "^3355FFNothing happens."
					dialog "Perhaps an alarm or"
					dialog "some other safety measure"
					dialog "was activated to keep the"
					dialog "Crest Piece from activating"
					dialog "this transportation device."
					dialog "You retrieve the Crest Piece.^000000"
					close
					showimage "3-1.bmp" 255
					return
				else
					dialog "^3355FFThe slot rotates and"
					dialog "the Crest Piece moves as"
					dialog "if it were turning a key. You"
					dialog "feel a weak tremor as a Warp"
					dialog "Portal to the other side is"
					dialog "activated. You then retrieve"
					dialog "your Crest Piece.^000000"
					InitTimer
					cmdothernpc "Warp#1-3" "on"
					cmdothernpc "Red Alarm#1-3" "on"
					disablenpc "#hole#1-3"
					close
					showimage "3-1.bmp" 255
					return
				endif
			else
				dialog "^3355FFUnfortunately, you're"
				dialog "not carrying anything"
				dialog "that might be able to fit"
				dialog "into the slot and activate"
				dialog "this mechanical device.^000000"
				close
				showimage "3.bmp" 255
				return
			endif
		break
		case 2
			var name = PcName
			dialog "[" + name + "]"
			dialog "Hmmm..."
			dialog "Do I have anything"
			dialog "that might make this"
			dialog "weird machine work?"
			close
			showimage "3.bmp" 255
			return
		break
		endchoose
		close
	else
		dialog "^3355FFThis seems like"
		dialog "some kind of device"
		dialog "that will allow you to"
		dialog "pass to the other side."
		dialog "There's a slot where you"
		dialog "probably need to insert"
		dialog "some kind of object...^000000"
		close
		showimage "3.bmp" 255
		return
	endif
return
OnTimer: 22500
	enablenpc "#hole#1-3" "on"
	cmdothernpc "Red Alarm#1-3" "off"
return

hiddenwarp "jupe_area1" "Warp#1-3" 33 137 2 2
OnInit:
	disablenpc "Warp#1-3"
return
OnCommand: "off"
	disablenpc "Warp#1-3"
return
OnCommand: "reset"
	disablenpc "Warp#1-3"
return
OnCommand: "on"
	enablenpc "Warp#1-3"
	ShowEffect "Warp#1-3" 561
	sound "jupe_warp.wav" 2 0 0
	InitTimer
return
OnTouch:
	moveto "jupe_area1" 33 105
return
OnTimer: 22500
	cmdothernpc "Warp#1-3" "reset"
return

hiddenwarp "jupe_area1" "Red Alarm#1-3" 33 105 0 4
OnInit:
	disablenpc "Red Alarm#1-3"
return
OnCommand: "off"
	disablenpc "Red Alarm#1-3"
return
OnCommand: "on"
	enablenpc "Red Alarm#1-3"
return
OnTouch:
	var gameing = GetGlobalVar "050420_jupe_area1"
	gameing = gameing + 1
	SetGlobalVar "050420_jupe_area1" 1
	cmdothernpc "Red Alarm Start#1-3" "on"
	cmdothernpc "Red Alarm#1-3" "off"
	cmdothernpc "#hole#1-3" "stop_timer"
return

hiddenwarp "jupe_area1" "Red Alarm Start#1-3" 60 232 0 0
OnInit:
	disablenpc "Red Alarm Start#1-3"
return
OnCommand: "off"
	disablenpc "Red Alarm Start#1-3"
return
OnCommand: "reset"
	disablenpc "Red Alarm Start#1-3"
return
OnCommand: "on"
	enablenpc "Red Alarm Start#1-3"
	cmdothernpc "Red Alarm On#1-3" "on"
return

hiddenwarp "jupe_area1" "Red Alarm On#1-3" 61 232 0 0 0
OnInit:
	disablenpc "Red Alarm On#1-3"
return
OnCommand: "off"
	disablenpc "Red Alarm On#1-3"
return
OnCommand: "on"
	enablenpc "Red Alarm On#1-3"
	InitTimer
return
OnTimer: 1000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "These security systems..."
return
OnTimer: 3000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "They're not really for protection."
	cmdothernpc "#hole#1-3" "off"
return
OnTimer: 5000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "It's sort of just a hobby to pass the time..."
	cmdothernpc "Monster1#1-3" "on"
return
OnTimer: 7000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Being immortal, I have a lot of time on my hands..."
return
OnTimer: 8000
	cmdothernpc "Red Alarm On#1-3" off
return

hiddenwarp "jupe_area1" "Monster1#1-3" 62 232 0 0 0
OnInit:
	disablenpc "Monster1#1-3"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster1#1-3"
return
OnCommand: "on"
	var gameing = GetGlobalVar "050420_jupe_area1"
	InitTimer
	enablenpc "Monster1#1-3"
	callmonster "jupe_area1" VENATU "Security Guard" 30 89
	callmonster "jupe_area1" DIMIK "Security Guard" 31 89
	callmonster "jupe_area1" VENATU "Security Guard" 32 89
	callmonster "jupe_area1" DIMIK "Security Guard" 33 89
	callmonster "jupe_area1" VENATU "Security Guard" 34 89
	callmonster "jupe_area1" DIMIK "Security Guard" 35 89
	callmonster "jupe_area1" VENATU "Security Guard" 36 89
	callmonster "jupe_area1" DIMIK "Security Guard" 37 89
return
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Zzzzt...Zzzzt...."
	SetGlobalVar "050420_jupe_area1" 0
return
OnTimer: 300002
	cmdothernpc "Monster1#1-3" "reset"
	cmdothernpc "#hole#1-3" "on"
return
return
OnMyMobDead:
	if npcv "Monster1#1-3" [VAR_MYMOBCOUNT] < 1
		cmdothernpc "Monster2#1-3" "on"
		cmdothernpc "Monster1#1-3" "reset"
		stoptimer
	endif
return

hiddenwarp "jupe_area1" "Monster2#1-3" 63 232 0 0 0
OnInit:
	disablenpc "Monster2#1-3"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster2#1-3"
return
OnCommand: "on"
	var gameing = GetGlobalVar "050420_jupe_area1"
	InitTimer
return
OnTimer: 2000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Why have you come?"
return
OnTimer: 5000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Were you hoping to find something wonderful? Something miraculous?"
return
OnTimer: 8000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "You're wrong! Welcome to Hell!"
	enablenpc "Monster2#1-3"
	callmonster "jupe_area1" DIMIK "Security Guard" 42 64
	callmonster "jupe_area1" VENATU "Security Guard" 43 64
	callmonster "jupe_area1" DIMIK "Security Guard" 44 64
	callmonster "jupe_area1" VENATU "Security Guard" 45 64
	callmonster "jupe_area1" DIMIK "Security Guard" 46 64
	callmonster "jupe_area1" VENATU "Security Guard" 47 64
	callmonster "jupe_area1" DIMIK "Security Guard" 48 64
	callmonster "jupe_area1" VENATU "Security Guard" 49 64
	callmonster "jupe_area1" DIMIK "Security Guard" 42 62
	callmonster "jupe_area1" VENATU "Security Guard" 43 62
	callmonster "jupe_area1" DIMIK "Security Guard" 44 62
	callmonster "jupe_area1" VENATU "Security Guard" 45 62
	callmonster "jupe_area1" DIMIK "Security Guard" 46 62
	callmonster "jupe_area1" VENATU "Security Guard" 47 62
	callmonster "jupe_area1" DIMIK "Security Guard" 48 62
return
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Do you still have your courage? Come. Prove it."
	cmdothernpc "Monster2#1-3" "reset"
	cmdothernpc "#hole#1-3" "on"
	cmdothernpc "Red Alarm#1-3" "off"
	SetGlobalVar "050420_jupe_area1" 0
return
OnTimer: 300002
	cmdothernpc "Monster2#1-3" "reset"
return
OnMyMobDead:
	if npcv "Monster2#1-3" [VAR_MYMOBCOUNT] < 1
		broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Do you still have your courage? Come. Prove it."
		cmdothernpc "Monster2#1-3" "reset"
		cmdothernpc "#hole#1-3" "on"
		cmdothernpc "Red Alarm#1-3" "off"
		SetGlobalVar "050420_jupe_area1" 0
		stoptimer
	endif
return

npc "jupe_area1" "#hole#1-4" CLEAR_NPC 50 49 0 0 0
OnCommand: "on"
	enablenpc "#hole#1-4"
return
OnCommand: "off"
	disablenpc "#hole#1-4"
return
OnCommand: "stop_timer"
	stoptimer
return
OnClick:
	var gameing = GetGlobalVar "050420_jupe_area1"
	showimage "4.bmp" 2
	if (gameing == 1)
		dialog "^3355FFThis seems like"
		dialog "some kind of device"
		dialog "that will allow you to"
		dialog "pass to the other side."
		dialog "There's a slot where you"
		dialog "probably need to insert"
		dialog "some kind of object...^000000"
		close
		showimage "4.bmp" 255
		return
	elseif ((v[Piece_Of_Crest1] > 0) | (v[Piece_Of_Crest2] > 0) | (v[Piece_Of_Crest3] > 0) | (v[Piece_Of_Crest4] > 0))
		dialog "^3355FFThis seems like"
		dialog "some kind of device"
		dialog "that will allow you to"
		dialog "pass to the other side."
		dialog "There's a slot where you"
		dialog "probably need to insert"
		dialog "some kind of object...^000000"
		wait
		choose menu "Insert a Crest Piece." "Cancel."
		case 1
			if (v[Piece_Of_Crest4] > 0)
				dialog "^3355FFYou take out your"
				dialog "Crest Piece and place"
				dialog "it into the slot where it"
				dialog "happens to fit perfectly.^000000"
				ShowEffect "#hole#1-4" EF_TOPRANK
				showimage "4-1.bmp" 2
				wait
				var gameing = GetGlobalVar "050420_jupe_area1"
				if (gameing == 1)
					dialog "^3355FFNothing happens."
					dialog "Perhaps an alarm or"
					dialog "some other safety measure"
					dialog "was activated to keep the"
					dialog "Crest Piece from activating"
					dialog "this transportation device."
					dialog "You retrieve the Crest Piece.^000000"
					close
					showimage "4-1.bmp" 255
					return
				else
					dialog "^3355FFThe slot rotates and"
					dialog "the Crest Piece moves as"
					dialog "if it were turning a key. You"
					dialog "feel a weak tremor as a Warp"
					dialog "Portal to the other side is"
					dialog "activated. You then retrieve"
					dialog "your Crest Piece.^000000"
					InitTimer
					cmdothernpc "Warp#1-4" "on"
					cmdothernpc "Red Alarm#1-4" "on"
					disablenpc "#hole#1-4"
					close
					showimage "4-1.bmp" 255
					return
				endif
			else
				dialog "^3355FFUnfortunately, you're"
				dialog "not carrying anything"
				dialog "that might be able to fit"
				dialog "into the slot and activate"
				dialog "this mechanical device.^000000"
				close
				showimage "4.bmp" 255
				return
			endif
		break
		case 2
			var name = PcName
			dialog "[" + name + "]"
			dialog "Hmmm..."
			dialog "Do I have anything"
			dialog "that might make this"
			dialog "weird machine work?"
			close
			showimage "4.bmp" 255
			return
		break
		endchoose
		close
	else
		dialog "^3355FFThis seems like"
		dialog "some kind of device"
		dialog "that will allow you to"
		dialog "pass to the other side."
		dialog "There's a slot where you"
		dialog "probably need to insert"
		dialog "some kind of object...^000000"
		close
		showimage "4.bmp" 255
		return
	endif
return
OnTimer: 5000
	enablenpc "#hole#1-4" "on"
	cmdothernpc "Red Alarm#1-4" "off"
return

hiddenwarp "jupe_area1" "Warp#1-4" 57 53 2 2
OnInit:
	disablenpc "Warp#1-4"
return
OnCommand: "off"
	disablenpc "Warp#1-4"
return
OnCommand: "reset"
	disablenpc "Warp#1-4"
return
OnCommand: "on"
	enablenpc "Warp#1-4"
	ShowEffect "Warp#1-4" 561
	sound "jupe_warp.wav" 2 0 0
	InitTimer
return
OnTouch:
	moveto "jupe_area1" 83 157
return
OnTimer: 5000
	cmdothernpc "Warp#1-4" "reset"
return

hiddenwarp "jupe_area1" "Red Alarm#1-4" 83 157 2 2
OnInit:
	disablenpc "Red Alarm#1-4"
return
OnCommand: "off"
	disablenpc "Red Alarm#1-4"
return
OnCommand: "on"
	enablenpc "Red Alarm#1-4"
return
OnTouch:
	var gameing = GetGlobalVar "050420_jupe_area1"
	gameing = gameing + 1
	SetGlobalVar "050420_jupe_area1" 1
	cmdothernpc "Red Alarm Start#1-4" "on"
	cmdothernpc "Red Alarm#1-4" "off"
	cmdothernpc "#hole#1-4" "stop_timer"
return
//     

hiddenwarp "jupe_area1" "Red Alarm Start#1-4" 60 233 0 0
OnInit:
	disablenpc "Red Alarm Start#1-4"
return
OnCommand: "off"
	disablenpc "Red Alarm Start#1-4"
return
OnCommand: "reset"
	disablenpc "Red Alarm Start#1-4"
return
OnCommand: "on"
	enablenpc "Red Alarm Start#1-4"
	cmdothernpc "Red Alarm On#1-4" "on"
return

hiddenwarp "jupe_area1" "Red Alarm On#1-4" 61 233 0 0 0
OnInit:
	disablenpc "Red Alarm On#1-4"
return
OnCommand: "off"
	disablenpc "Red Alarm On#1-4"
return
OnCommand: "on"
	enablenpc "Red Alarm On#1-4"
	InitTimer
return
OnTimer: 1000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I've been waiting for someone strong enough to compete with me."
return
OnTimer: 3000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "If you hear this, I wish you will be the one..."
	cmdothernpc "#hole#1-4" "off"
return
OnTimer: 5000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Perhaps, a mere shadow of my former self..."
	cmdothernpc "Monster1#1-4" "on"
return
OnTimer: 7000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Is somewhere down here, wandering..."
return
OnTimer: 8000
	cmdothernpc "Red Alarm On#1-4" off
return

hiddenwarp "jupe_area1" "Monster1#1-4" 62 233 0 0 0
OnInit:
	disablenpc "Monster1#1-4"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster1#1-4"
return
OnCommand: "on"
	var gameing = GetGlobalVar "050420_jupe_area1"
	InitTimer
	enablenpc "Monster1#1-4"
	callmonster "jupe_area1" DIMIK "Security Guard" 92 154
	callmonster "jupe_area1" VENATU "Security Guard" 96 154
	callmonster "jupe_area1" DIMIK "Security Guard" 100 154
	callmonster "jupe_area1" VENATU "Security Guard" 104 154
	callmonster "jupe_area1" DIMIK "Security Guard" 92 161
	callmonster "jupe_area1" VENATU "Security Guard" 96 161
	callmonster "jupe_area1" DIMIK "Security Guard" 100 161
	callmonster "jupe_area1" VENATU "Security Guard" 104 161
return
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Zzzzt...Zzzzt...."
	SetGlobalVar "050420_jupe_area1" 0
return
OnTimer: 300002
	cmdothernpc "Monster1#1-4" "reset"
	cmdothernpc "#hole#1-4" "on"
return
return
OnMyMobDead:
	if npcv "Monster1#1-4" [VAR_MYMOBCOUNT] < 1
		cmdothernpc "Monster2#1-4" "on"
		cmdothernpc "Monster1#1-4" "reset"
		stoptimer
	endif
return

hiddenwarp "jupe_area1" "Monster2#1-4" 63 233 0 0 0
OnInit:
	disablenpc "Monster2#1-4"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster2#1-4"
return
OnCommand: "on"
	var gameing = GetGlobalVar "050420_jupe_area1"
	InitTimer
return
OnTimer: 2000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I can never rest in peace..."
return
OnTimer: 4000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I'll wait forever or until someone can put me out of my misery..."
return
OnTimer: 6000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I will be waiting for you!"
	enablenpc "Monster2#1-4"
	callmonster "jupe_area1" VENATU "Security Guard" 104 161
	callmonster "jupe_area1" DIMIK "Security Guard" 108 161
	callmonster "jupe_area1" VENATU "Security Guard" 111 161
	callmonster "jupe_area1" DIMIK "Security Guard" 112 161
	callmonster "jupe_area1" VENATU "Security Guard" 115 161
	callmonster "jupe_area1" DIMIK "Security Guard" 104 154
	callmonster "jupe_area1" VENATU "Security Guard" 108 154
	callmonster "jupe_area1" DIMIK "Security Guard" 111 154
	callmonster "jupe_area1" VENATU "Security Guard" 112 154
	callmonster "jupe_area1" DIMIK "Security Guard" 115 154
return
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "It's funny... Isn't it?"
	cmdothernpc "Monster2#1-4" "reset"
	cmdothernpc "#hole#1-4" "on"
	cmdothernpc "Red Alarm#1-4" "off"
	SetGlobalVar "050420_jupe_area1" 0
return
OnTimer: 300002
	cmdothernpc "Monster2#1-4" "reset"
return
OnMyMobDead:
	if npcv "Monster2#1-4" [VAR_MYMOBCOUNT] < 1
		broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "It's funny... Isn't it?"
		cmdothernpc "Monster2#1-4" "reset"
		cmdothernpc "#hole#1-4" "on"
		cmdothernpc "Red Alarm#1-4" "off"
		SetGlobalVar "050420_jupe_area1" 0
		stoptimer
	endif
return

npc "jupe_area1" "Lever#ufe" CLEAR_NPC 112 162 0 0 0
OnCommand: "on"
	enablenpc "Lever#ufe"
return
OnCommand: "off"
	disablenpc "Lever#ufe"
return
OnCommand: "stop_timer"
	stoptimer
return
OnClick:
	dialog "^3355FFIt's a lever"
	dialog "whose function"
	dialog "is not known to you.^000000"
	wait
	choose menu "Pull." "Cancel."
	case 1
		InitTimer
		cmdothernpc "LeverWarp#ufe" "on"
		disablenpc "Lever#ufe"
		close
		return
	break
	case 2
		var name = PcName
		dialog "[" + name + "]"
		dialog "Pull this lever?"
		dialog "I don't even know"
		dialog "what will happen..."
		close
		return
	break
	endchoose
	close
return
OnTimer: 3000
	enablenpc "Lever#ufe"
return

hiddenwarp "jupe_area1" "LeverWarp#ufe" 117 157 2 2
OnInit:
	disablenpc "LeverWarp#ufe"
return
OnCommand: "off"
	disablenpc "LeverWarp#ufe"
return
OnCommand: "reset"
	disablenpc ""LeverWarp#ufe"
return
OnCommand: "on"
	enablenpc "LeverWarp#ufe"
	ShowEffect "LeverWarp#ufe" 561
	sound "jupe_warp.wav" 2 0 0
	InitTimer
return
OnTouch:
	moveto "jupe_gate" 28 30
return
OnTimer: 3000
	disablenpc "LeverWarp#ufe"
return


//=========================================================
//= Juperos Area #2
//=========================================================

npc "jupe_area2" "#Hole#2-1" CLEAR_NPC 74 224 0 0 0
OnCommand: "on"
	enablenpc "#Hole#2-1"
return
OnCommand: "off"
	disablenpc "#Hole#2-1"
return
OnCommand: "stop_timer"
	stoptimer
return
OnClick:
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	showimage "1.bmp" 2
	if (gameing2 == 1)
		dialog "^3355FFThis is a hole with a"
		dialog "certain design drawn on it."
		dialog "It seems like some kind of"
		dialog "device that could let you"
		dialog "pass to the other side.^000000"
		close
		showimage "1.bmp" 255
		return
	elseif ((v[Piece_Of_Crest1] > 0) | (v[Piece_Of_Crest2] > 0) | (v[Piece_Of_Crest3] > 0) | (v[Piece_Of_Crest4] > 0))
		dialog "^3355FFThis is a hole with a"
		dialog "certain design drawn on it."
		dialog "It seems like some kind of"
		dialog "device that could let you"
		dialog "pass to the other side.^000000"
		wait
		choose menu "Insert a Crest Piece." "Cancel."
			case 1
			if (v[Piece_Of_Crest1] > 0)
				dialog "^3355FFYou take out your"
				dialog "Crest Piece and place"
				dialog "it into the slot where it"
				dialog "happens to fit perfectly.^000000"
				ShowEffect "#Hole#2-1" EF_TOPRANK
				showimage "1-1.bmp" 2
				wait
				var gameing2 = GetGlobalVar "050420_jupe_area2"
				if (gameing2 == 1)
				dialog "^3355FFNothing happens."
				dialog "Perhaps an alarm or"
				dialog "some other safety measure"
				dialog "was activated to keep the"
				dialog "Crest Piece from activating"
				dialog "this transportation device."
				dialog "You retrieve the Crest Piece.^000000"
				close
				showimage "1-1.bmp" 255
				return
				else
				dialog "^3355FFThe slot rotates and"
				dialog "the Crest Piece moves as"
				dialog "if it were turning a key. You"
				dialog "feel a weak tremor as a Warp"
				dialog "Portal to the other side is"
				dialog "activated. You then retrieve"
				dialog "your Crest Piece.^000000"
				InitTimer
				cmdothernpc "Warp#2-1" "on"
				cmdothernpc "Red Alarm#2-1" "on"
				disablenpc "#Hole#2-1"
				close
				showimage "1-1.bmp" 255
				return
				endif
			else
				dialog "^3355FFUnfortunately, you're"
				dialog "not carrying anything"
				dialog "that might be able to fit"
				dialog "into the slot and activate"
				dialog "this mechanical device.^000000"
				close
				showimage "1.bmp" 255
				return
			endif
			break
			case 2
			var name = PcName
			dialog "[" + name + "]"
			dialog "Hmmm..."
			dialog "Do I have anything"
			dialog "that might make this"
			dialog "weird machine work?"
			close
			showimage "1.bmp" 255
			return
			break
		endchoose
		close
	else
		dialog "^3355FFThis is a hole with a"
		dialog "certain design drawn on it."
		dialog "It seems like some kind of"
		dialog "device that could let you"
		dialog "pass to the other side.^000000"
		close
		showimage "1.bmp" 255
		return
	endif
return
OnTimer: 22500
	enablenpc "#Hole#2-1" "on"
	cmdothernpc "Red Alarm#2-1" "off"
return

hiddenwarp "jupe_area2" "Warp#2-1" 80 221 2 2
OnInit:
	disablenpc "Warp#2-1"
return
OnCommand: "off"
	disablenpc "Warp#2-1"
return
OnCommand: "reset"
	disablenpc "Warp#2-1"
return
OnCommand: "on"
	enablenpc "Warp#2-1"
	ShowEffect "Warp#2-1" 561
	sound "jupe_warp.wav" 2 0 0
	InitTimer
return
OnTouch:
	moveto "jupe_area2" 116 259
return
OnTimer: 22500
	cmdothernpc "Warp#2-1" "reset"
return

hiddenwarp "jupe_area2" "Red Alarm#2-1" 116 259 2 2
OnInit:
	disablenpc "Red Alarm#2-1"
return
OnCommand: "off"
	disablenpc "Red Alarm#2-1"
return
OnCommand: "on"
	enablenpc "Red Alarm#2-1"
return
OnTouch:
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	gameing2 = gameing2 + 1
	SetGlobalVar "050420_jupe_area2" 1
	cmdothernpc "Red Alarm Start#2-1" "on"
	cmdothernpc "Red Alarm#2-1" "off"
	cmdothernpc "#Hole#2-1" "stop_timer"
return

hiddenwarp "jupe_area2" "Red Alarm Start#2-1" 27 188 0 0
OnInit:
	disablenpc "Red Alarm Start#2-1"
return
OnCommand: "off"
	disablenpc "Red Alarm Start#2-1"
return
OnCommand: "reset"
	disablenpc "Red Alarm Start#2-1"
return
OnCommand: "on"
	enablenpc "Red Alarm Start#2-1"
	cmdothernpc "Red Alarm On#2-1" "on"
return

hiddenwarp "jupe_area2" "Red Alarm On#2-1" 28 188 0 0 0
OnInit:
	disablenpc "Red Alarm On#2-1"
return
OnCommand: "off"
	disablenpc "Red Alarm On#2-1"
return
OnCommand: "on"
	enablenpc "Red Alarm On#2-1"
	InitTimer
return
OnTimer: 1000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Those of you who have come here..."
return
OnTimer: 3000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I do not intend to stop you."
	sound "jupe_warning.wav" 2 0 0
	sound "jupe_warning.wav" 2 0 1000
	cmdothernpc "#Hole#2-1" "off"
return
OnTimer: 5000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "But I assume you are prepared for a few obstacles..."
	cmdothernpc "Monster1#2-1" "on"
return
OnTimer: 7000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "After all, you are venturing through a forbidden area!"
return
OnTimer: 8000
	cmdothernpc "Red Alarm On#2-1" off
	sound "jupe_warning.wav" 2 0 0
	sound "jupe_warning.wav" 2 0 1000
return

hiddenwarp "jupe_area2" "Monster1#2-1" 29 188 0 0 0
OnInit:
	disablenpc "Monster1#2-1"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster1#2-1"
return
OnCommand: "on"
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	InitTimer
	enablenpc "Monster1#2-1"
	callmonster "jupe_area2" DIMIK "Security Guard" 126 252
	callmonster "jupe_area2" VENATU "Security Guard" 127 252
	callmonster "jupe_area2" DIMIK "Security Guard" 128 252
	callmonster "jupe_area2" VENATU "Security Guard" 129 252
	callmonster "jupe_area2" DIMIK "Security Guard" 130 252
	callmonster "jupe_area2" VENATU "Security Guard" 131 252
	callmonster "jupe_area2" DIMIK "Security Guard" 132 252
	callmonster "jupe_area2" VENATU "Security Guard" 133 252
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Do you realize this is a hallucination?"
	SetGlobalVar "050420_jupe_area2" 0
return
OnTimer: 300002
	cmdothernpc "Monster1#2-1" "reset"
	cmdothernpc "#Hole#2-1" "on"
return
OnMyMobDead:
	if npcv "Monster1#2-1" [VAR_MYMOBCOUNT] < 1
		cmdothernpc "Monster2#2-1" "on"
		cmdothernpc "Monster1#2-1" "reset"
		stoptimer
	endif
return

hiddenwarp "jupe_area2" "Monster2#2-1" 30 188 0 0
OnInit:
	disablenpc "Monster2#2-1"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster2#2-1"
return
OnCommand: "on"
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	InitTimer
return
OnTimer: 2000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "How about now?"
	sound "jupe_warning.wav" 2 0 0
	sound "jupe_warning.wav" 2 0 1000
return
OnTimer: 4000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Let me see..."
return
OnTimer: 7000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Just how strong you are!"
	sound "jupe_warning.wav" 2 0 0
	sound "jupe_warning.wav" 2 0 1000
	enablenpc "Monster2#2-1"
	callmonster "jupe_area2" VENATU "Security Guard" 126 236
	callmonster "jupe_area2" DIMIK "Security Guard" 127 236
	callmonster "jupe_area2" VENATU "Security Guard" 128 236
	callmonster "jupe_area2" DIMIK "Security Guard" 129 236
	callmonster "jupe_area2" VENATU "Security Guard" 130 236
	callmonster "jupe_area2" DIMIK "Security Guard" 131 236
	callmonster "jupe_area2" VENATU "Security Guard" 132 236
	callmonster "jupe_area2" DIMIK "Security Guard" 133 236
return
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Bwahaha! You're only good at running away!"
	cmdothernpc "Monster2#2-1" "reset"
	cmdothernpc "#Hole#2-1" "on"
	cmdothernpc "Red Alarm#2-1" "off"
	SetGlobalVar "050420_jupe_area2" 0
return
OnTimer: 300002
	cmdothernpc "Monster2#2-1" "reset"
return
OnMyMobDead:
	if npcv "Monster2#2-1" [VAR_MYMOBCOUNT] < 1
		broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Zzzzt. Zzzzt..... "
		cmdothernpc "Monster2#2-1" "reset"
		cmdothernpc "#Hole#2-1" "on"
		cmdothernpc "Red Alarm#2-1" "off"
		SetGlobalVar "050420_jupe_area2" 0
		stoptimer
	endif
return

npc "jupe_area2" "#Hole#2-2" CLEAR_NPC 138 238 0 0 0
OnCommand: "on"
	enablenpc "#Hole#2-2"
return
OnCommand: "off"
	disablenpc "#Hole#2-2"
return
OnCommand: "stop_timer"
	stoptimer
return
OnClick:
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	showimage "2.bmp" 2
	if (gameing2 == 1)
		dialog "^3355FFThis is a hole with a"
		dialog "certain design drawn on it."
		dialog "It seems like some kind of"
		dialog "device that could let you"
		dialog "pass to the other side.^000000"
		close
		return
	elseif ((v[Piece_Of_Crest1] > 0) | (v[Piece_Of_Crest2] > 0) | (v[Piece_Of_Crest3] > 0) | (v[Piece_Of_Crest4] > 0))
		dialog "^3355FFThis is a hole with a"
		dialog "certain design drawn on it."
		dialog "It seems like some kind of"
		dialog "device that could let you"
		dialog "pass to the other side.^000000"
		wait
		choose menu "Insert a Crest Piece." "Cancel."
		case 1
			if (v[Piece_Of_Crest2] > 0)
				dialog "^3355FFYou take out your"
				dialog "Crest Piece and place"
				dialog "it into the slot where it"
				dialog "happens to fit perfectly.^000000"
				ShowEffect "#Hole#2-2" EF_TOPRANK
				showimage "2-1.bmp" 2
				wait
				var gameing2 = GetGlobalVar "050420_jupe_area2"
				if (gameing2 == 1)
					dialog "^3355FFNothing happens."
					dialog "Perhaps an alarm or"
					dialog "some other safety measure"
					dialog "was activated to keep the"
					dialog "Crest Piece from activating"
					dialog "this transportation device."
					dialog "You retrieve the Crest Piece.^000000"
					close
					showimage "2-1.bmp" 255
					return
				else
					dialog "^3355FFThe slot rotates and"
					dialog "the Crest Piece moves as"
					dialog "if it were turning a key. You"
					dialog "feel a weak tremor as a Warp"
					dialog "Portal to the other side is"
					dialog "activated. You then retrieve"
					dialog "your Crest Piece.^000000"
					InitTimer
					cmdothernpc "Warp#2-2" "on"
					cmdothernpc "Red Alarm#2-2" "on"
					disablenpc "#Hole#2-2"
					close
					showimage "2-1.bmp" 255
					return
				endif
			else
				dialog "^3355FFUnfortunately, you're"
				dialog "not carrying anything"
				dialog "that might be able to fit"
				dialog "into the slot and activate"
				dialog "this mechanical device.^000000"
				close
				showimage "2.bmp" 255
				return
			endif
		break
		case 2
			var name = PcName
			dialog "[" + name + "]"
			dialog "Hmmm..."
			dialog "Do I have anything"
			dialog "that might make this"
			dialog "weird machine work?"
			close
			showimage "2.bmp" 255
			return
		break
		endchoose
		close
	else
		dialog "^3355FFThis is a hole with a"
		dialog "certain design drawn on it."
		dialog "It seems like some kind of"
		dialog "device that could let you"
		dialog "pass to the other side.^000000"
		close
		showimage "2.bmp" 255
		return
	endif
return
OnTimer: 22500
	enablenpc "#Hole#2-2" "on"
	cmdothernpc "Red Alarm#2-2" "off"
return

hiddenwarp "jupe_area2" "Warp#2-2" 142 225 2 2
OnInit:
	disablenpc "Warp#2-2"
return
OnCommand: "off"
	disablenpc "Warp#2-2"
return
OnCommand: "reset"
	disablenpc "Warp#2-2"
return
OnCommand: "on"
	enablenpc "Warp#2-2"
	ShowEffect "Warp#2-2" 561
	sound "jupe_warp.wav" 2 0 0
	InitTimer
return
OnTouch:
	moveto "jupe_area2" 142 191
return
OnTimer: 22500
	cmdothernpc "Warp#2-2" "reset"
return

hiddenwarp "jupe_area2" "Red Alarm#2-2" 142 191 2 2
OnInit:
	disablenpc "Red Alarm#2-2"
return
OnCommand: "off"
	disablenpc "Red Alarm#2-2"
return
OnCommand: "on"
	enablenpc "Red Alarm#2-2"
return
OnTouch:
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	gameing2 = gameing2 + 1
	SetGlobalVar "050420_jupe_area2" 1
	cmdothernpc "Red Alarm Start#2-2" "on"
	cmdothernpc "Red Alarm#2-2" "off"
	cmdothernpc "#Hole#2-2" "stop_timer"
return

hiddenwarp "jupe_area2" "Red Alarm Start#2-2" 27 189 0 0
OnInit:
	disablenpc "Red Alarm Start#2-2"
return
OnCommand: "off"
	disablenpc "Red Alarm Start#2-2"
return
OnCommand: "reset"
	disablenpc "Red Alarm Start#2-2"
return
OnCommand: "on"
	enablenpc "Red Alarm Start#2-2"
	cmdothernpc "Red Alarm On#2-2" "on"
return

hiddenwarp "jupe_area2" "Red Alarm On#2-2" 28 189 0 0 0
OnInit:
	disablenpc "Red Alarm On#2-2"
return
OnCommand: "off"
	disablenpc "Red Alarm On#2-2"
return
OnCommand: "on"
	enablenpc "Red Alarm On#2-2"
	InitTimer
return
OnTimer: 1000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Come on, come on!"
return
OnTimer: 3000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Yes. Run... Right into my hands!"
	cmdothernpc "#Hole#2-2" "off"
return
OnTimer: 5000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Do you want to know who I am?"
	cmdothernpc "Monster1#2-2" "on"
return
OnTimer: 7000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "You will know, once you defeat all of my minions!"
return
OnTimer: 8000
	cmdothernpc "Red Alarm On#2-2" off
return

hiddenwarp "jupe_area2" "Monster1#2-2" 29 189 0 0 0
OnInit:
	disablenpc "Monster1#2-2"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster1#2-2"
return
OnCommand: "on"
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	InitTimer
	enablenpc "Monster1#2-2"
	callmonster "jupe_area2" DIMIK "High Guard" 126 176
	callmonster "jupe_area2" VENATU "High Guard" 127 176
	callmonster "jupe_area2" DIMIK "High Guard" 128 176
	callmonster "jupe_area2" VENATU "High Guard" 129 176
	callmonster "jupe_area2" DIMIK "High Guard" 130 176
	callmonster "jupe_area2" VENATU "High Guard" 131 176
	callmonster "jupe_area2" DIMIK "High Guard" 132 176
	callmonster "jupe_area2" VENATU "High Guard" 133 176
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I can't believe how cowardly you really are..."
	SetGlobalVar "050420_jupe_area2" 0
	return
OnTimer: 300002
		cmdothernpc "Monster1#2-2" "reset"
		cmdothernpc "#Hole#2-2" "on"
		return
OnMyMobDead:
	if npcv "Monster1#2-2" [VAR_MYMOBCOUNT] < 1
		cmdothernpc "Monster2#2-2" "on"
		cmdothernpc "Monster1#2-2" "reset"
		stoptimer
	endif
return

hiddenwarp "jupe_area2" "Monster2#2-2" 30 189 0 0 0
OnInit:
	disablenpc "Monster2#2-2"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster2#2-2"
return
OnCommand: "on"
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	InitTimer
OnTimer: 2000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I was the head of this underground laboratory."
return
OnTimer: 4000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "But that was a long time ago, back when I was merely a human."
return
OnTimer: 6000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I was called Vesper Newton. Hahah, they called me a mad man back then."
	enablenpc "Monster2#2-2"
	callmonster "jupe_area2" VENATU "Security Guard" 126 156
	callmonster "jupe_area2" DIMIK "Security Guard" 127 156
	callmonster "jupe_area2" VENATU "Security Guard" 128 156
	callmonster "jupe_area2" DIMIK "Security Guard" 129 156
	callmonster "jupe_area2" VENATU "Security Guard" 130 156
	callmonster "jupe_area2" DIMIK "Security Guard" 131 156
	callmonster "jupe_area2" VENATU "Security Guard" 132 156
	callmonster "jupe_area2" DIMIK "Security Guard" 133 156
	callmonster "jupe_area2" VENATU "Security Guard" 133 156
	callmonster "jupe_area2" DIMIK "Security Guard" 127 152
	callmonster "jupe_area2" VENATU "Security Guard" 129 152
	callmonster "jupe_area2" DIMIK "Security Guard" 130 152
	callmonster "jupe_area2" VENATU "Security Guard" 132 152
return
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "...not yet."
	cmdothernpc "Monster2#2-2" "reset"
	cmdothernpc "#Hole#2-2" "on"
	cmdothernpc "Red Alarm#2-2" "off"
	SetGlobalVar "050420_jupe_area2" 0
return
OnTimer: 300002
	cmdothernpc "Monster2#2-2" "reset"
return
OnMyMobDead:
	if npcv "Monster2#2-2" [VAR_MYMOBCOUNT] < 1
		broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Not yet!"
		cmdothernpc "Monster2#2-2" "reset"
		cmdothernpc "#Hole#2-2" "on"
		cmdothernpc "Red Alarm#2-2" "off"
		SetGlobalVar "050420_jupe_area2" 0
		stoptimer
	endif
return

npc "jupe_area2" "#Hole#2-3" CLEAR_NPC 127 146 0 0 0
OnCommand: "on"
	enablenpc "#Hole#2-3"
return
OnCommand: "off"
	disablenpc "#Hole#2-3"
return
OnCommand: "stop_timer"
	stoptimer
return
OnClick:
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	showimage "3.bmp" 2
	if (gameing2 == 1)
		dialog "^3355FFThis is a hole with a"
		dialog "certain design drawn on it."
		dialog "It seems like some kind of"
		dialog "device that could let you"
		dialog "pass to the other side.^000000"
		close
		showimage "3.bmp" 255
		return
	elseif ((v[Piece_Of_Crest1] > 0) | (v[Piece_Of_Crest2] > 0) | (v[Piece_Of_Crest3] > 0) | (v[Piece_Of_Crest4] > 0))
		dialog "^3355FFThis is a hole with a"
		dialog "certain design drawn on it."
		dialog "It seems like some kind of"
		dialog "device that could let you"
		dialog "pass to the other side.^000000"
		wait
		choose menu "Insert a Crest Piece." "Cancel."
		case 1
			if (v[Piece_Of_Crest3] > 0)
				dialog "^3355FFYou take out your"
				dialog "Crest Piece and place"
				dialog "it into the slot where it"
				dialog "happens to fit perfectly.^000000"
				ShowEffect "#Hole#2-3" EF_TOPRANK
				showimage "3-1.bmp" 2
				wait
				var gameing2 = GetGlobalVar "050420_jupe_area2"
				if (gameing2 == 1)
					dialog "^3355FFNothing happens."
					dialog "Perhaps an alarm or"
					dialog "some other safety measure"
					dialog "was activated to keep the"
					dialog "Crest Piece from activating"
					dialog "this transportation device."
					dialog "You retrieve the Crest Piece.^000000"
					close
					showimage "3-1.bmp" 255
					return
				else
					dialog "^3355FFThe slot rotates and"
					dialog "the Crest Piece moves as"
					dialog "if it were turning a key. You"
					dialog "feel a weak tremor as a Warp"
					dialog "Portal to the other side is"
					dialog "activated. You then retrieve"
					dialog "your Crest Piece.^000000"
					InitTimer
					cmdothernpc "Warp#2-3" "on"
					cmdothernpc "Red Alarm#2-3" "on"
					disablenpc "#Hole#2-3"
					close
					showimage "3-1.bmp" 255
					return
				endif
			else
				dialog "^3355FFUnfortunately, you're"
				dialog "not carrying anything"
				dialog "that might be able to fit"
				dialog "into the slot and activate"
				dialog "this mechanical device.^000000"
				close
				showimage "3.bmp" 255
				return
			endif
		break
		case 2
			var name = PcName
			dialog "[" + name + "]"
			dialog "Hmmm..."
			dialog "Do I have anything"
			dialog "that might make this"
			dialog "weird machine work?"
			close
			showimage "3.bmp" 255
			return
		break
		endchoose
		close
	else
		dialog "^3355FFThis seems like"
		dialog "some kind of device"
		dialog "that will allow you to"
		dialog "pass to the other side."
		dialog "There's a slot where you"
		dialog "probably need to insert"
		dialog "some kind of object...^000000"
		close
		showimage "3.bmp" 255
		return
	endif
return
OnTimer: 22500
	enablenpc "#Hole#2-3" "on"
	cmdothernpc "Red Alarm#2-3" "off"
return

hiddenwarp "jupe_area2" "Warp#2-3" 130 137 2 2
OnInit:
	disablenpc "Warp#2-3"
return
OnCommand: "off"
	disablenpc "Warp#2-3"
return
OnCommand: "reset"
	disablenpc "Warp#2-3"
return
OnCommand: "on"
	enablenpc "Warp#2-3"
	ShowEffect "Warp#2-3" 561
	sound "jupe_warp.wav" 2 0 0
	InitTimer
return
OnTouch:
	moveto "jupe_area2" 130 105
return
OnTimer: 22500
	cmdothernpc "Warp#2-3" "reset"
return

hiddenwarp "jupe_area2" "Red Alarm#2-3" 130 105 0 4
OnInit:
	disablenpc "Red Alarm#2-3"
return
OnCommand: "off"
	disablenpc "Red Alarm#2-3"
return
OnCommand: "on"
	enablenpc "Red Alarm#2-3"
return
OnTouch:
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	gameing2 = gameing2 + 1
	SetGlobalVar "050420_jupe_area2" 1
	cmdothernpc "Red Alarm Start#2-3" "on"
	cmdothernpc "Red Alarm#2-3" "off"
	cmdothernpc "#Hole#2-3" "stop_timer"
return

hiddenwarp "jupe_area2" "Red Alarm Start#2-3" 27 190 0 0
OnInit:
	disablenpc "Red Alarm Start#2-3"
return
OnCommand: "off"
	disablenpc "Red Alarm Start#2-3"
return
OnCommand: "reset"
	disablenpc "Red Alarm Start#2-3"
return
OnCommand: "on"
	enablenpc "Red Alarm Start#2-3"
	cmdothernpc "Red Alarm On#2-3" "on"
return
hiddenwarp "jupe_area2" "Red Alarm On#2-3" 28 1900 0 0
OnInit:
	disablenpc "Red Alarm On#2-3"
return
OnCommand: "off"
	disablenpc "Red Alarm On#2-3"
return
OnCommand: "on"
	enablenpc "Red Alarm On#2-3"
	InitTimer
return
OnTimer: 1000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "These security systems..."
return
OnTimer: 3000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "They're not really for protection."
	cmdothernpc "#Hole#2-3" "off"
return
OnTimer: 5000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "It's sort of just a hobby to pass the time..."
	cmdothernpc "Monster1#2-3" "on"
return
OnTimer: 7000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Being immortal, I have a lot of time on my hands..."
return
OnTimer: 8000
	cmdothernpc "Red Alarm On#2-3" off
return




hiddenwarp "jupe_area2" "Monster1#2-3" 29 190 0 0 0
OnInit:
	disablenpc "Monster1#2-3"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster1#2-3"
return
OnCommand: "on"
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	InitTimer
	enablenpc "Monster1#2-3"
	callmonster "jupe_area2" VENATU "Security Guard" 126 89
	callmonster "jupe_area2" DIMIK "Security Guard" 127 89
	callmonster "jupe_area2" VENATU "Security Guard" 128 89
	callmonster "jupe_area2" DIMIK "Security Guard" 129 89
	callmonster "jupe_area2" VENATU "Security Guard" 130 89
	callmonster "jupe_area2" DIMIK "Security Guard" 131 89
	callmonster "jupe_area2" VENATU "Security Guard" 132 89
	callmonster "jupe_area2" DIMIK "Security Guard" 133 89
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Zzzzt... Zzzzt...."
	SetGlobalVar "050420_jupe_area2" 0
return
OnTimer: 300002
	cmdothernpc "Monster1#2-3" "reset"
	cmdothernpc "#Hole#2-3" "on"
return
OnMyMobDead:
	if npcv "Monster1#2-3" [VAR_MYMOBCOUNT] < 1
		cmdothernpc "Monster2#2-3" "on"
		cmdothernpc "Monster1#2-3" "reset"
		stoptimer
	endif
return

hiddenwarp "jupe_area2" "Monster2#2-3" 30 190 0 0 0
	OnInit:
	disablenpc "Monster2#2-3"
	return

OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster2#2-3"
return
OnCommand: "on"
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	InitTimer
OnTimer: 2000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Why have you come?"
return
OnTimer: 5000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Were you hoping to find something wonderful? Something miraculous?"
return
OnTimer: 8000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "You're wrong! Welcome to Hell!"
	enablenpc "Monster2#2-3"
	callmonster "jupe_area2" VENATU "Security Guard" 114 64
	callmonster "jupe_area2" DIMIK "Security Guard" 115 64
	callmonster "jupe_area2" VENATU "Security Guard" 116 64
	callmonster "jupe_area2" DIMIK "Security Guard" 117 64
	callmonster "jupe_area2" VENATU "Security Guard" 118 64
	callmonster "jupe_area2" DIMIK "Security Guard" 119 64
	callmonster "jupe_area2" VENATU "Security Guard" 120 64
	callmonster "jupe_area2" DIMIK "Security Guard" 121 64
	callmonster "jupe_area2" VENATU "Security Guard" 114 62
	callmonster "jupe_area2" DIMIK "Security Guard" 115 62
	callmonster "jupe_area2" VENATU "Security Guard" 116 62
	callmonster "jupe_area2" DIMIK "Security Guard" 117 62
	callmonster "jupe_area2" VENATU "Security Guard" 118 62
	callmonster "jupe_area2" DIMIK "Security Guard" 119 62
	callmonster "jupe_area2" VENATU "Security Guard" 120 62
	callmonster "jupe_area2" DIMIK "Security Guard" 121 62
return
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Do you still have your courage? Come. Prove it."
	cmdothernpc "Monster2#2-3" "reset"
	cmdothernpc "#Hole#2-3" "on"
	cmdothernpc "Red Alarm#2-3" "off"
	SetGlobalVar "050420_jupe_area2" 0
return
OnTimer: 300002
	cmdothernpc "Monster2#2-3" "reset"
return
OnMyMobDead:
	if npcv "Monster2#2-3" [VAR_MYMOBCOUNT] < 1
		broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Do you still have your courage? Come. Prove it."
		cmdothernpc "Monster2#2-3" "reset"
		cmdothernpc "#Hole#2-3" "on"
		cmdothernpc "Red Alarm#2-3" "off"
		SetGlobalVar "050420_jupe_area2" 0
		stoptimer
	endif
return

npc "jupe_area2" "#Hole#2-4" CLEAR_NPC 113 49 0 0 0
OnCommand: "on"
	enablenpc "#Hole#2-4"
return
OnCommand: "off"
	disablenpc "#Hole#2-4"
return
OnCommand: "stop_timer"
	stoptimer
return
OnClick:
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	showimage "4.bmp" 2
	if (gameing2 == 1)
		dialog "^3355FFThis is a hole with a"
		dialog "certain design drawn on it."
		dialog "It seems like some kind of"
		dialog "device that could let you"
		dialog "pass to the other side.^000000"
		close
		showimage "4.bmp" 255
		return
	elseif ((v[Piece_Of_Crest1] > 0) | (v[Piece_Of_Crest2] > 0) | (v[Piece_Of_Crest3] > 0) | (v[Piece_Of_Crest4] > 0))
		dialog "^3355FFThis is a hole with a"
		dialog "certain design drawn on it."
		dialog "It seems like some kind of"
		dialog "device that could let you"
		dialog "pass to the other side.^000000"
		wait
		choose menu "Insert a Crest Piece." "Cancel."
		case 1
			if (v[Piece_Of_Crest4] > 0)
				dialog "^3355FFYou take out your"
				dialog "Crest Piece and place"
				dialog "it into the slot where it"
				dialog "happens to fit perfectly.^000000"
				ShowEffect "#Hole#2-4" EF_TOPRANK
				showimage "4-1.bmp" 2
				wait
				var gameing2 = GetGlobalVar "050420_jupe_area2"
				if (gameing2 == 1)
					dialog "^3355FFNothing happens."
					dialog "Perhaps an alarm or"
					dialog "some other safety measure"
					dialog "was activated to keep the"
					dialog "Crest Piece from activating"
					dialog "this transportation device."
					dialog "You retrieve the Crest Piece.^000000"
					close
					showimage "4-1.bmp" 255
					return
				else
					dialog "^3355FFThe slot rotates and"
					dialog "the Crest Piece moves as"
					dialog "if it were turning a key. You"
					dialog "feel a weak tremor as a Warp"
					dialog "Portal to the other side is"
					dialog "activated. You then retrieve"
					dialog "your Crest Piece.^000000"
					InitTimer
					cmdothernpc "Warp#2-4" "on"
					cmdothernpc "Red Alarm#2-4" "on"
					disablenpc "#Hole#2-4"
					close
					showimage "4-1.bmp" 255
					return
				endif
			else
				dialog "^3355FFUnfortunately, you're"
				dialog "not carrying anything"
				dialog "that might be able to fit"
				dialog "into the slot and activate"
				dialog "this mechanical device.^000000"
				close
				showimage "4.bmp" 255
				return
			endif
		break
		case 2
			var name = PcName
			dialog "[" + name + "]"
			dialog "Hmmm..."
			dialog "Do I have anything"
			dialog "that might make this"
			dialog "weird machine work?"
			close
			showimage "4.bmp" 255
			return
		break
		endchoose
		close
	else
		dialog "^3355FFThis seems like"
		dialog "some kind of device"
		dialog "that will allow you to"
		dialog "pass to the other side."
		dialog "There's a slot where you"
		dialog "probably need to insert"
		dialog "some kind of object...^000000"
		close
		showimage "4.bmp" 255
		return
	endif
return
OnTimer: 22500
	enablenpc "#Hole#2-4" "on"
	cmdothernpc "Red Alarm#2-4" "off"
return

hiddenwarp "jupe_area2" "Warp#2-4" 106 53 2 2
OnInit:
	disablenpc "Warp#2-4"
return
OnCommand: "off"
	disablenpc "Warp#2-4"
return
OnCommand: "reset"
	disablenpc "Warp#2-4"
return
OnCommand: "on"
	enablenpc "Warp#2-4"
	ShowEffect "Warp#2-4" 561
	sound "jupe_warp.wav" 2 0 0
	InitTimer
return
OnTouch:
	moveto "jupe_area2" 80 157
return
OnTimer: 22500
	cmdothernpc "Warp#2-4" "reset"
return

hiddenwarp "jupe_area2" "Red Alarm#2-4" 80 157 2 2
OnInit:
	disablenpc "Red Alarm#2-4"
return
OnCommand: "off"
	disablenpc "Red Alarm#2-4"
return
OnCommand: "on"
	enablenpc "Red Alarm#2-4"
return
OnTouch:
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	gameing2 = gameing2 + 1
	SetGlobalVar "050420_jupe_area2" 1
	cmdothernpc "Red Alarm Start#2-4" "on"
	cmdothernpc "Red Alarm#2-4" "off"
	cmdothernpc "#Hole#2-4" "stop_timer"
return

hiddenwarp "jupe_area2" "Red Alarm Start#2-4" 27 191 0 0
OnInit:
	disablenpc "Red Alarm Start#2-4"
return
OnCommand: "off"
	disablenpc "Red Alarm Start#2-4"
return
OnCommand: "reset"
	disablenpc "Red Alarm Start#2-4"
return
OnCommand: "on"
	enablenpc "Red Alarm Start#2-4"
	cmdothernpc "Red Alarm On#2-4" "on"
return

hiddenwarp "jupe_area2" "Red Alarm On#2-4" 28 191 0 0 0
OnInit:
	disablenpc "Red Alarm On#2-4"
return
OnCommand: "off"
	disablenpc "Red Alarm On#2-4"
return
OnCommand: "on"
	enablenpc "Red Alarm On#2-4"
	InitTimer
return
OnTimer: 1000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I've been waiting for someone strong enough to compete with me."
return
OnTimer: 3000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "If you hear this, I wish you will be the one..."
	cmdothernpc "#Hole#2-4" "off"
return
OnTimer: 5000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Perhaps, a mere shadow of my former self..."
	cmdothernpc "Monster1#2-4" "on"
return
OnTimer: 7000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Is somewhere down here, wandering..."
return
OnTimer: 8000
	cmdothernpc "Red Alarm On#2-4" off
return

hiddenwarp "jupe_area2" "Monster1#2-4" 29 191 0 0 0
OnInit:
	disablenpc "Monster1#2-4"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster1#2-4"
return
OnCommand: "on"
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	InitTimer
	enablenpc "Monster1#2-4"
	callmonster "jupe_area2" VENATU "Security Guard" 75 161
	callmonster "jupe_area2" DIMIK "Security Guard" 72 161
	callmonster "jupe_area2" VENATU "Security Guard" 71 161
	callmonster "jupe_area2" DIMIK "Security Guard" 68 161
	callmonster "jupe_area2" VENATU "Security Guard" 75 154
	callmonster "jupe_area2" DIMIK "Security Guard" 72 154
 	callmonster "jupe_area2" VENATU "Security Guard" 71 154
	callmonster "jupe_area2" DIMIK "Security Guard" 68 154
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "Zzzzt... Zzzzt...."
	SetGlobalVar "050420_jupe_area2" 0
return
OnTimer: 300002
	cmdothernpc "Monster1#2-4" "reset"
	cmdothernpc "#Hole#2-4" "on"
return
OnMyMobDead:
	if npcv "Monster1#2-4" [VAR_MYMOBCOUNT] < 1
		cmdothernpc "Monster2#2-4" "on"
		cmdothernpc "Monster1#2-4" "reset"
		stoptimer
	endif
return

hiddenwarp "jupe_area2" "Monster2#2-4" 30 191 0 0 0
OnInit:
	disablenpc "Monster2#2-4"
return
OnCommand: "reset"
	resetmymob
return
OnCommand: "off"
	disablenpc "Monster2#2-4"
return
OnCommand: "on"
	var gameing2 = GetGlobalVar "050420_jupe_area2"
	InitTimer
OnTimer: 2000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I can never rest in peace..."
return
OnTimer: 4000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I'll wait forever or until someone can put me out of my misery..."
return
OnTimer: 6000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "I will be waiting for you!"
	enablenpc "Monster2#2-4"
	callmonster "jupe_area2" VENATU "Security Guard" 63 161
	callmonster "jupe_area2" DIMIK "Security Guard" 61 161
	callmonster "jupe_area2" VENATU "Security Guard" 59 161
	callmonster "jupe_area2" DIMIK "Security Guard" 57 161
	callmonster "jupe_area2" VENATU "Security Guard" 55 161
	callmonster "jupe_area2" DIMIK "Security Guard" 53 161
	callmonster "jupe_area2" VENATU "Security Guard" 53 154
	callmonster "jupe_area2" DIMIK "Security Guard" 55 154
	callmonster "jupe_area2" VENATU "Security Guard" 57 154
	callmonster "jupe_area2" DIMIK "Security Guard" 59 154
	callmonster "jupe_area2" VENATU "Security Guard" 61 154
	callmonster "jupe_area2" DIMIK "Security Guard" 63 154
return
OnTimer: 300000
	broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "It's funny... Isn't it?"
	cmdothernpc "Monster2#2-4" "reset"
	cmdothernpc "#Hole#2-4" "on"
	cmdothernpc "Red Alarm#2-4" "off"
	SetGlobalVar "050420_jupe_area2" 0
return
OnTimer: 300002
	cmdothernpc "Monster2#2-4" "reset"
return
OnMyMobDead:
	if npcv "Monster2#2-4" [VAR_MYMOBCOUNT] < 1
		broadcastinmap2 "FF0000" FW_NORMAL 12 0 0 "It's funny... Isn't it?"
		cmdothernpc "Monster2#2-4" "reset"
		cmdothernpc "#Hole#2-4" "on"
		cmdothernpc "Red Alarm#2-4" "off"
		SetGlobalVar "050420_jupe_area2" 0
		stoptimer
	endif
return

npc "jupe_area2" "Lever2#ufe" CLEAR_NPC 51 162 0 0 0
OnCommand: "on"
	enablenpc "Lever2#ufe"
return
OnCommand: "off"
	disablenpc "Lever2#ufe"
return
OnCommand: "stop_timer"
	stoptimer
return
OnClick:
	dialog "^3355FFIt's a lever"
	dialog "whose function"
	dialog "is not known to you.^000000"
	wait
	choose menu "Pull." "Cancel."
	case 1
		InitTimer
		cmdothernpc "WarpLever2#ufe" "on"
		disablenpc "Lever2#ufe"
		close
		return
	break
	case 2
		var name = PcName
		dialog "[" + name + "]"
		dialog "Pull this lever?"
		dialog "I don't even know"
		dialog "what will happen..."
		close
		return
	break
	endchoose
	close
return
OnTimer: 5000
	enablenpc "Lever2#ufe"
return

hiddenwarp "jupe_area2" "WarpLever2#ufe" 46 157 2 2
OnInit:
	disablenpc "WarpLever2#ufe"
return
OnCommand: "off"
	disablenpc "WarpLever2#ufe"
return
OnCommand: "on"
	enablenpc "WarpLever2#ufe"
	ShowEffect "WarpLever2#ufe" 561
	sound "jupe_warp.wav" 2 0 0
	InitTimer
return
OnTouch:
	moveto "jupe_gate" 71 29
return	
OnTimer: 5000
	disablenpc "WarpLever2#ufe"
return


//=========================================================
//= Juperos GM Administration
//=========================================================

// Juperos Manager
npc "sec_in02" "Juperos Manager" 4_F_OPERATION 39 167 0 0 0

	dialog "[Juperos Manager]"
	dialog "I manage Juperos globalvar.."
	dialog "Please input password."
	wait
	dlgwrite 0 9999
	if input == 1854
		dialog "[Juperos Manager]"
		dialog "Please choose an area to change."
		dialog "Selection will initialize the"
		dialog "progress in the respective stage."
		dialog "It's forbidden to initialize when"
		dialog "there is a character doing the quest."
		wait
		choose menu "jupe_Area1" "jupe_Area2" "jupe_ele_r" "jupe_ele"
		case 1
			dialog "[Juperos Manager]"
			dialog "Do you want to initialize"
			dialog "jupe_Area1? Please choose"
			dialog "carefully."
			wait
			choose menu "Initialize globalvar" "Cancel"
			case 1
				dialog "[Juperos Manager]"
				dialog "Globalvar jupe_Area1"
				dialog "was initialized."
				SetGlobalVar "050420_jupe_area1" 0
				close
				return
			break
			case 2
				dialog "[Juperos Manager]"
				dialog "Cancelled."
				close
				return
			break
			endchoose
			close
			return
		break
		case 2
			dialog "[Juperos Manager]"
			dialog "Do you want to initialize"
			dialog "jupe_Area2? Please choose"
			dialog "carefully."
			wait
			choose menu "Initialize globalvar" "Cancel"
			case 1
				dialog "[Juperos Manager]"
				dialog "Globalvar jupe_Area2"
				dialog "was initialized."
				SetGlobalVar "050420_jupe_area2" 0
				close
				return
			break
			case 2
				dialog "[Juperos Manager]"
				dialog "Cancelled."
				close
				return
			break
			endchoose
			close
			return
		break
		case 3
			dialog "[Juperos Manager]"
			dialog "Do you want to initialize"
			dialog "jupe_ele_r? Please choose"
			dialog "carefully."
			wait
			choose menu "Initialize globalvar" "Cancel"
			case 1
				dialog "[Juperos Manager]"
				dialog "Globalvar jupe_ele_r"
				dialog "was initialized."
				SetGlobalVar "050420_jupe_ele_r" 0
				close
				return
			break
			case 2
				dialog "[Juperos Manager]"
				dialog "Cancelled."
				close
				return
			break
			endchoose
			close
			return
		break
		case 4
			dialog "[Juperos Manager]"
			dialog "Do you want to initialize"
			dialog "jupe_ele? Please choose"
			dialog "carefully."
			wait
			choose menu "Initialize globalvar" "Cancel"
			case 1
				dialog "[Juperos Manager]"
				dialog "Globalvar jupe_ele"
				dialog "was initialized."
				SetGlobalVar "050425_ufe_elev" 0
				close
				return
			break
			case 2
				dialog "[Juperos Manager]"
				dialog "Cancelled."
				close
				return
			break
			endchoose
			close
			return
		break
		endchoose
		close
	else
		dialog "[Juperos Manager]"
		dialog "Wrong password."
		close
		return
	endif
	close
return
